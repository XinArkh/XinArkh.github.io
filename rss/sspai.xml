<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>少数派</title><link>https://sspai.com</link><description>少数派RSS Feed-文章完整抓取版</description><language>zh-CN</language><managingEditor>contact@sspai.com (少数派)</managingEditor><lastBuildDate>Wed, 24 Jul 2024 08:00:04 GMT</lastBuildDate><generator>RSSEngine powered by PyRSS2Gen-1.1.0</generator><image><url>https://i0.hdslb.com/bfs/face/bbe80dc05f67e9543a33b067764227b02504bfa0.jpg</url><title>icon</title><link>https://i0.hdslb.com/bfs/face/bbe80dc05f67e9543a33b067764227b02504bfa0.jpg</link></image><item><title>在家做一个魔法师，智能家居也可以动「手」不动口</title><link>https://sspai.com/post/90675</link><description>&lt;div&gt;&lt;h2&gt;前言&lt;/h2&gt;&lt;p&gt;相信很多读者和我一样，都有一个巫师梦，等着自己的那只猫头鹰送来霍格沃茨的入学通知书。世界各地的麻瓜们也在乐此不疲地使用科技构筑自己的魔法世界。前段时间B站就有一个视频大火，使用自制魔杖控制家居设备，很是浪漫！&lt;sup&gt;1&lt;/sup&gt;但很多巫师丢失魔杖后只能任人摆布，还是邓布利多和伏地魔的无杖施法更吸引人，本麻瓜当然更向往这种高阶法术（&lt;s&gt;不是&lt;/s&gt;）。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/21/33357e7a8593a728923f70a00cbacd43.gif" src="https://cdnfile.sspai.com/2024/07/21/33357e7a8593a728923f70a00cbacd43.gif"/&gt;&lt;figcaption&gt;《&lt;i&gt;哈利&lt;/i&gt;·&lt;i&gt;波特与火焰杯&lt;/i&gt;》&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;无杖施法虽然摆脱了魔杖，但还是至少要挥一挥手，摆个 pose 的。那么是否有识别我的姿态和手势，来理解我的意图的方法呢。&lt;/p&gt;&lt;p&gt;经过调研，使用机器视觉是一个可行的方案，我发现不少人已经做了相关尝试，甚至商用摄像头也初步做过简单手势控制功能。而大多数开源项目采用 Mediapipe 方案，这是一个 Google 开源的手势识别套件，使用简单，但缺陷在于仅支持单人、近距离识别。&lt;sup&gt;2&lt;/sup&gt;且多数项目仅仅在 PC 上调用 Mediapipe 库做了一些简单的特性演示，没有进一步扩展实用功能。&lt;/p&gt;&lt;p&gt;我曾计划在自己的服务器上实现该项目，但考虑到项目对实时性要求高，采用了边缘计算（Edge Computing）方案。对物联网而言，边缘计算意味着许多控制将通过本地设备实现而无需交由云端，大大提升处理效率，由于更加靠近用户，还可提供更快的响应。但是，边缘设备上部署需要克服额外的困难，包括模型的转换与调整，精度与实时性能的权衡。&lt;/p&gt;&lt;p&gt;最终，基于边缘设备（香橙派），我开发了一个手势自动化项目，「&lt;strong&gt;Gesture-Based-Home-Automation&lt;/strong&gt;」。&lt;/p&gt;&lt;h2&gt;效果展示&lt;/h2&gt;&lt;blockquote&gt;&lt;p&gt;由于少数派附件的大小限制，难以展示长时高清的动画；本文所有演示将人与被控主体放在同一个画面，且手部尽可能正对镜头以展示手势细节；画面有裁剪、无加速。&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;「Gesture-Based-Home-Automation」的关键特性有：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;支持多人场景，通过「抬手」动作触发手势识别；&lt;/li&gt;&lt;li&gt;低延迟，手势识别延迟 30ms，「抬手」检测延迟 50ms，低延迟能更好地支撑复杂手势并提高「跟手」体验；&lt;/li&gt;&lt;li&gt;长距离，能识别超过 5 米距离的手势信号，大体能覆盖单个空间；&lt;/li&gt;&lt;li&gt;空间定位，能粗略地识别人体、手部在空间中的位置；&lt;/li&gt;&lt;li&gt;复杂手势组合，支持左右手识别与跟踪，支持 5 种静态手势、4 种动态手势、4 种触发模式，通过相互组合并结合手部旋转状态、空间位置，可以定义无穷种手势信号。&lt;sup&gt;3&lt;/sup&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;下面展示了项目的部分关键特性。第一组为手部的 5 种基础手势与手掌旋转状态识别；第二组为左右手识别与跟踪、长距离手部定位与手势识别；第三组图为「抬手」触发与基础的开关灯控制演示；第四组图，通过空间定位与手势指令，呼唤扫地机器人前往人体地点进行清扫。（这里使用的是石头 G10S。）常规的做法是「点开 app-进入设备-设置-指哪到哪-点选-确认」，而语音控制无法完成该指令。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/d15125c35d76f18addcdf54dda5d71a2.gif" src="https://cdnfile.sspai.com/2024/07/21/d15125c35d76f18addcdf54dda5d71a2.gif"/&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/78ec8af180d454d5af5b41f9e33a83d7.gif" src="https://cdnfile.sspai.com/2024/07/21/78ec8af180d454d5af5b41f9e33a83d7.gif"/&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/2b4607edaf0657321c9c9ba8a18e85bc.gif" src="https://cdnfile.sspai.com/2024/07/21/2b4607edaf0657321c9c9ba8a18e85bc.gif"/&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/e1c46d4f0b72b49a487cd816bcb6d9d9.gif" src="https://cdnfile.sspai.com/2024/07/21/e1c46d4f0b72b49a487cd816bcb6d9d9.gif"/&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/c69b370499ca8b0c88357192f36dcd95.gif" src="https://cdnfile.sspai.com/2024/07/21/c69b370499ca8b0c88357192f36dcd95.gif"/&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/3dff72974428e0842ca7ddfb8a92641a.gif" src="https://cdnfile.sspai.com/2024/07/21/3dff72974428e0842ca7ddfb8a92641a.gif"/&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/61149551d4bb6574f5d86ff607aaf53e.gif" src="https://cdnfile.sspai.com/2024/07/21/61149551d4bb6574f5d86ff607aaf53e.gif"/&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/647d578a7d631bbcd41ed88fd4cae011.gif" src="https://cdnfile.sspai.com/2024/07/21/647d578a7d631bbcd41ed88fd4cae011.gif"/&gt;&lt;/figure&gt;&lt;p&gt;以上先演示了部分基础指令，下面先介绍其基本原理，然后引入「高级手势控制」，将更加符合人们习惯的动态手势转译为控制信号，进行更复杂的控制，更多演示可以跳转至&lt;strong&gt;高级手势与智能控制&lt;/strong&gt;章节部分查看。&lt;/p&gt;&lt;h2&gt;硬件概况&lt;/h2&gt;&lt;p&gt;硬件组成：一个香橙派 5 Pro (Orange Pi 5 Pro)&lt;sup&gt;4&lt;/sup&gt;，一个 5V4A 电源，一个 USB 摄像头。&lt;/p&gt;&lt;p&gt;Orange Pi 5 Pro，尺寸 89mm*56mm*1.6mm，采用了瑞芯微 RK3588S 处理器，四核 A76 + 四核 A55，主频 2.4GHz，集成 ARM Mali-G610；&lt;strong&gt;内嵌的 NPU 支持 INT4/INT8/INT16 混合运算，算力 6TOPS&lt;/strong&gt;，4GB LPDDR5，Wi-Fi 5、BLE。支持 Orange Pi OS、Ubuntu、Android 12、Debian 等操作系统。摄像头为无畸变 86° 视角，1080P/30FPS 的 USB 摄像头。&lt;/p&gt;&lt;p&gt;这颗 6TOPS 的 NPU 是我选择香橙派 5 Pro 的主要理由，我们需要在上面做各种神经网络推理，同时它的价格足够低，总成本约 650 元。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/22/947479a5a4bb798e7fd489bcf9356fe2.png" src="https://cdnfile.sspai.com/2024/07/22/947479a5a4bb798e7fd489bcf9356fe2.png"/&gt;&lt;figcaption&gt;香橙派 5 Pro&lt;/figcaption&gt;&lt;/figure&gt;&lt;h2&gt;手势识别流程&lt;/h2&gt;&lt;p&gt;在家居场景中，我们的关键需求是全天候运行、使用流畅。具体分析下来，手势使用频率相对不高，这决定了我们并不需要时时刻刻获取手势信息，而为了兼顾长时间运行，设计了这样一个流程：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;常规时间中，运行多人人体关键点检测，输出人体关键点和框；该阶段的特点是资源消耗低，实时性较差（约 50ms），主打一个够用就好；&lt;/li&gt;&lt;li&gt;当任一一只手腕高于肩部时，停止人体关键点检测，同时在该人体框内进行手部检测，根据人体关键点匹配左右手，将裁剪的手部图像传入手部关键点检测；该阶段为过渡阶段，耗时约 20ms，将人体关键点检测转换为手部关键点检测，同时输出该帧的头部位置与大小；&lt;/li&gt;&lt;li&gt;启动多线程检测手部关键点（最多 2 只手），识别手势，同时预测下一帧的手部位置；只要手部检测的置信度足够高，会一直保持在该阶段，该阶段资源消耗较高，实时性较强（约 29ms），对于 30FPS 的摄像头而言，几乎可以跑满帧率；快速移动手掌或遮挡双手，或双手都丢失预测位置，自动回到人体关键点检测流程。&lt;/li&gt;&lt;/ul&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/21/7a5d8b81f04b12b1fbf173fcfb1d29d0.png" src="https://cdnfile.sspai.com/2024/07/21/7a5d8b81f04b12b1fbf173fcfb1d29d0.png"/&gt;&lt;figcaption&gt;手势识别框架&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;在常规时间中（生活中的绝大多数时间），系统保持较低的功耗运行。需要手势控制时，又能快速切换模式，并实时地检测。设计切换信号（手腕高于肩部）可以避免误触发。基本满足了全天候运行、使用流畅的需求。小目标的检测往往是具有挑战的，通过人体框的裁剪，采用 Top-Down 模式，实现最远 5 米的手势识别，基本可以覆盖屋内的环境了。&lt;/p&gt;&lt;p&gt;模型选择方面，个人水平有限，考虑到时间成本，贯彻了「拿来主义」，搜刮了一些优秀的模型。但在过程中，转换为 3588 NPU 的模型格式时，又出现了各种问题，包括 rknn 的各种 bug，算子不支持等。后续会根据需要更换模型。当前版本的模型选择如下：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;多人人体关键点检测：Yolo v8 pose (nano)，转换为 rknpu 模型 rknn，使用 INT8 量化，追求较高的速度而牺牲精度；&lt;/li&gt;&lt;li&gt;手部与头部检测：Gold Yolo (nano)，fp16，输出的手部位置为第一帧位置，要求较高的精度；&lt;/li&gt;&lt;li&gt;手部关键点检测：RTMPose (m)，fp16，同时要求较高精度和较高速度。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;空间位置估计&lt;/h2&gt;&lt;p&gt;为了获取目标在空间中的位置，需要先估算深度，即目标距相机的距离（光轴方向）。常用的深度估计方法主要包括双目视觉深度估计和单目视觉深度估计。双目视觉使用两个相机，类似于人类的双眼。通过捕捉从两个不同视角的图像，利用视差来估计物体的深度信息。单目视觉的挑战在于，单个相机只能提供二维图像，没有直接的深度信息。因此，需要借助一些额外的信息来推断深度，如通过训练深度神经网络，利用标注数据来学习从单目图像中估计深度；利用物体的已知尺寸、平行线的消失点、阴影等几何特征来推断深度；通过分析物体在多帧图像中的移动情况来估计深度。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/21/f6b2a0db1d8bea3badf01cb36e1bb1d4.png" src="https://cdnfile.sspai.com/2024/07/21/f6b2a0db1d8bea3badf01cb36e1bb1d4.png"/&gt;&lt;figcaption&gt;空间位置估计&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;双目相机比单目相机贵得多，我想控制住预算，同时，我们只要十分粗略的空间位置，对精度要求很低。通过实验发现，在多数生活情况下，Gold Yolo 识别出的头部检测框宽度相对稳定（即使头部发生旋转），因此我们使用头部的宽度信息来标定人体距离相机的深度。获取头部宽度像素数，进而得到人体深度值，与相机的视角、拍摄像素计算，可以得到 (x, y, z) 坐标，组合得到每个手掌的 (x, y, z) 坐标值。该值为相机局部坐标系下的坐标，通过坐标变换，转换为全局坐标系下的坐标值：只需预设相机 x 轴和 y 轴在全局坐标系中的向量、相机原点在全局坐标系中的坐标值即可，分别为「vector_x」「vector_y」和「vector_o」。&lt;/p&gt;&lt;h2&gt;手势控制信号&lt;/h2&gt;&lt;p&gt;获取手部的 21 个关键点坐标后，通过计算关节点的弯曲角度得到每个手指的弯曲状态（弯曲或伸直），组合每个手指的弯曲状态，定义了 &lt;strong&gt;5 种手势：「握拳」/「fist」，「一」/「one」，「二」/「two」，「三」/「ok」，「五」/「open」&lt;/strong&gt;。由于拇指非常容易被遮挡，其弯曲状态容易误判，因此在这 5 种手势的判断过程中，拇指的状态不纳入考虑，即「四指张开」=「五指张开」。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/21/bed8141f0a3a8c0c8c16942284947466.png" src="https://cdnfile.sspai.com/2024/07/21/bed8141f0a3a8c0c8c16942284947466.png"/&gt;&lt;figcaption&gt;基础手势控制信号&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;使用手掌的关键点（0、5、9、13号关键点），计算得到&lt;strong&gt;手掌的「旋转角度」/「rotation」&lt;/strong&gt;。从人的视角看，五指竖直向上为 0，逆时针为正，顺时针为负，单位为弧度，范围（-pi，pi）。&lt;/p&gt;&lt;p&gt;记录每一次检测的食指指尖坐标，获得手指移动轨迹，用线性回归拟合趋势线，根据纵横比和趋势线系数判断手势，&lt;strong&gt;分类为 4 种轨迹「上滑」/「UP」，「下滑」/「DOWN」，「左滑」/「LEFT」，「右滑」/「RIGHT」&lt;/strong&gt;。拟合趋势线前会移除离群点，增加判断的准确性。轨迹判断具有冗余度，允许轨迹有一定倾角。这里只预设了最简单的 4 种轨迹，读者可以根据需要自行编写判断轨迹类别（如顺时针、逆时针）。对于更为复杂的手势，可以参考 &lt;a href="https://github.com/Kazuhito00/hand-gesture-recognition-using-mediapipe" target="_blank"&gt;hand-gesture-recognition-using-mediapipe&lt;/a&gt; 项目，训练轨迹分类模型。&lt;/p&gt;&lt;p&gt;总结下来，单次单手检测具有 &lt;strong&gt;5 种手势 &lt;/strong&gt;&lt;i&gt;&lt;strong&gt; 4 种轨迹 &lt;/strong&gt;&lt;/i&gt;&lt;strong&gt; N 种旋转角度&lt;/strong&gt;类别，通过左右手的组合以及空间位置的判断，可以获得数千种手势控制信号。&lt;/p&gt;&lt;h2&gt;高级手势与智能控制&lt;/h2&gt;&lt;p&gt;现在我们已经能获取每一个时刻的手势信号了，即使对检测结果已经进行了初步处理，但是还是会有一些漏检误检。除此之外，我们还要&lt;strong&gt;将人类习惯的动态手势转译为控制信号&lt;/strong&gt;。这里参考 &lt;a href="https://github.com/geaxgx/depthai_hand_tracker" target="_blank"&gt;GitHub - geaxgx/depthai_hand_tracker)&lt;/a&gt; 构建了一个 HandController 类。&lt;/p&gt;&lt;p&gt;HandController 基于事件循环，提前在配置中定义一个手势动作列表。手势动作将手势（例如，右手的 OPEN 姿势）与回调（识别手势时调用的函数）相关联。根据回调的运行时间和频率设置了 4 个模式：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;enter&lt;/strong&gt;（默认）：当手势开始时，触发一次事件；&lt;/li&gt;&lt;li&gt;&lt;strong&gt;enter_leave&lt;/strong&gt;：触发两个事件，一个是手势开始时，一个是手势结束时；&lt;/li&gt;&lt;li&gt;&lt;strong&gt;period&lt;/strong&gt;：只要手势保持不变，事件就会定期触发；&lt;/li&gt;&lt;li&gt;&lt;strong&gt;continuous&lt;/strong&gt;：每一帧都会触发事件。&lt;/li&gt;&lt;/ul&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/21/894cab47d4d55210f14442fc4dfbe0e7.png" src="https://cdnfile.sspai.com/2024/07/21/894cab47d4d55210f14442fc4dfbe0e7.png"/&gt;&lt;figcaption&gt;触发模式&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;同时引入以下三个参数：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;first_trigger_delay&lt;/strong&gt;：由于手势识别中会出现误报，我们通常不希望在识别姿势的第一帧上触发事件。以秒为单位的「first_trigger_delay」指定手势在触发相应事件之前必须保持多长时间；&lt;/li&gt;&lt;li&gt;&lt;strong&gt;next_trigger_delay&lt;/strong&gt;：当模式为 &lt;strong&gt;period &lt;/strong&gt;时，两个连续事件之间的延迟（以秒为单位）；&lt;/li&gt;&lt;li&gt;&lt;strong&gt;max_missing_frames&lt;/strong&gt;：由于模型并不完美，因此会出现假阴性。比如，手在 20 帧中保持着「ONE」手势，但模型在 20 帧中的几帧中没有识别出「ONE」姿势。max_missing_frames 是允许丢失的帧数的最大值，超出该值，当前手势结束。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;下面举几个例子说明使用方法，更多高级手势可以由读者根据手势控制信号和 4 种控制模式自由组合而成（如单手单手势+多轨迹的组合，单手 0 多手势+时序组合判断等）。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;挥手下一个电视节目&lt;/strong&gt;。采用 enter_leave 模式，基础手势为「OPEN」，触发两个事件，判断手势开始时的「rotation」是否在 (-1.5, -0.3) 内，手势结束时的「rotation」是否在 (0.3, 1.5) 内，max_missing_frames 设置为较大值 10，即允许挥动过程中的较长时间的漏检误检。结束的时候握拳，即结束该手势信号，如果想中断该信号，则将手旋转至区间外结束手势即可。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;连续调节电视音量&lt;/strong&gt;。采用 period 模式，基础手势为左手「TWO」，右手「ONE」，手向左倾持续减小音量，向右倾则持续增加音量。&lt;/li&gt;&lt;li&gt;「&lt;strong&gt;Blink&lt;/strong&gt;」&lt;strong&gt;控制&lt;/strong&gt;。采用 enter 模式，基础手势为左手「OPEN」，通过累计触发次数来判断是否发出信号，累计次数为 2，最短间隔为 40 帧，超时自动重置。作为对比，我们首先慢速切换手势，无信号发出；快速「Blink」，信号发出。&lt;/li&gt;&lt;/ul&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/53244d812134bb35d3b5ca2ba589ba10.gif" src="https://cdnfile.sspai.com/2024/07/21/53244d812134bb35d3b5ca2ba589ba10.gif"/&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/1ff07c69b4757a4552ce56c677d1fd82.gif" src="https://cdnfile.sspai.com/2024/07/21/1ff07c69b4757a4552ce56c677d1fd82.gif"/&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/046661eeb7c38c654e25f9b31b17c72b.gif" src="https://cdnfile.sspai.com/2024/07/21/046661eeb7c38c654e25f9b31b17c72b.gif"/&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/a56de59eae80e7873b1bac0bbde5395d.gif" src="https://cdnfile.sspai.com/2024/07/21/a56de59eae80e7873b1bac0bbde5395d.gif"/&gt;&lt;/figure&gt;&lt;p&gt;家居的智能控制比较简单，可以直接在回调函数中调用相关 API 进行控制，如此例中的 Sony Bravia 电视&lt;sup&gt;5&lt;/sup&gt;。也可以通过 Node-Red、n8n、Home Assistant 中的无代码组件设置触发流程。&lt;/p&gt;&lt;p&gt;代码示例中，提供了一个 Flask API 服务，调用可以暂停或恢复服务，以降低能耗或在特定情况下避免误触发：如人离家时，通过小米无线按钮，暂停服务；如人在家健身时，肢体变化较大，可能造成控制信号的误触发，需要暂停服务。当然，还有更多的切换方式，如通过人体存在传感器切换服务，或使用其它智能语音切换服务，或通过特定手势暂停服务，或通过无检测阈值暂停服务等等。&lt;/p&gt;&lt;h2&gt;展望&lt;/h2&gt;&lt;p&gt;项目源码托管在 &lt;a href="https://github.com/mimicosnsyc/Gesture-Based-Home-Automation" target="_blank"&gt;Github&lt;/a&gt;。考虑到项目的独立性，同时时间有限，有很多想法没融入到该项目中，欢迎大家一起讨论。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;ul&gt;&lt;li&gt;如果需要更高精度的人体定位，贵的方法就是用双目相机，便宜的方案我觉得可以加一个毫米波雷达定位人体。但毫米波雷达方案和单目方案都有一个缺陷：手部深度默认与人体是一致的（即处于同一个平面），比如我需要在地面（xz平面）画一个区域让机器人清扫，则无法实现；&lt;/li&gt;&lt;li&gt;也许可以通过3D人体姿态来重定位手部位置；我们在手部检测阶段同时检测了头部，如果加一个头部的姿态估计模型获取人脸朝向，可能可以做到&amp;quot;指哪打哪&amp;quot;、&amp;quot;看哪打哪&amp;quot;；&lt;sup&gt;6&lt;/sup&gt;人体关键点信息也可成为控制信号的构成；&lt;/li&gt;&lt;li&gt;边缘设备的安装。新家做了无主灯，每个房间都有可供电的48V轨道，我计划在轨道上做一个20W转接口，将香橙派上墙，更加美观，俯拍可以更好地避免遮挡和逆光；&lt;/li&gt;&lt;li&gt;该项目的资源占用不算高，人体检测约NPU单核12%，手势检测约NPU3核32%，感觉还有资源可以在多个房间同时部署，视频通过rtsp串流到同一个香橙派上，当然串流会带来更大的延迟；追求极致的性能需用C++重构。&lt;/li&gt;&lt;li&gt;依赖光学图像进行识别，在低照度下，有些相机会提高曝光时间、降低帧率，可能会影响体验，同时，极低照度环境功能失效。&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;</description><author>凉糕</author><guid>https://sspai.com/post/90675</guid><pubDate>Wed, 24 Jul 2024 07:00:00 GMT</pubDate></item><item><title>用 xdg-ninja「整治」杂乱的 Linux 家目录</title><link>https://sspai.com/post/90480</link><description>&lt;div&gt;&lt;p&gt;&lt;strong&gt;Matrix 首页推荐&lt;/strong&gt; &lt;/p&gt;&lt;p&gt;&lt;a href="https://sspai.com/matrix" target="_blank"&gt;Matrix&lt;/a&gt; 是少数派的写作社区，我们主张分享真实的产品体验，有实用价值的经验与思考。我们会不定期挑选 Matrix 最优质的文章，展示来自用户的最真实的体验和观点。&lt;/p&gt;&lt;p&gt;文章代表作者个人观点，少数派仅对标题和排版略作修改。&lt;/p&gt;&lt;hr/&gt;&lt;h2&gt;前言&lt;/h2&gt;&lt;p&gt;Linux 系统下，大多数软件的配置文件与数据文件都会以隐藏文件的形式存放在用户的家目录之下，并且隐藏文件的文件名都是以英文句号开头的，也就是一个点，所以很多人将这些文件称之为 dotfiles。&lt;/p&gt;&lt;p&gt;在现代化的 Linux 发行版中，理想情况下软件对于 dotfiles 的存放会遵循 &lt;a href="https://wiki.archlinux.org/title/XDG_Base_Directory" target="_blank"&gt;XDG 标准&lt;/a&gt;，也就是说，软件的配置文件、数据文件、缓存文件等等，会分别存放到 &lt;code&gt;XDG_CONFIG_HOME&lt;/code&gt;、&lt;code&gt;XDG_DATA_HOME&lt;/code&gt; 以及 &lt;code&gt;XDG_STATE_HOME&lt;/code&gt; 等目录中，在默认情况下，这些目录分别对应为 &lt;code&gt;~/.config/&lt;/code&gt;、&lt;code&gt;~/.local/share/&lt;/code&gt; 和 &lt;code&gt;~/.cache/&lt;/code&gt;。&lt;/p&gt;&lt;p&gt;但现实情况远没有那么完美，很多软件会将配置文件或数据文件简单粗暴地放在用户的家目录根文件夹里面，导致家目录充满了杂乱无章的文件或文件夹。造成这种情况的原因也很复杂，可能是系统某些环境变量配置有误，又或者是某些软件的历史遗留问题，也可能只是单纯的软件并没有遵循 XDG 规范来进行设计。&lt;/p&gt;&lt;p&gt;对于这种情况，其实也大可以眼不见为净，在文件管理器中关掉显示隐藏文件的选项，大部分时候倒也看不到。不过其中有不少软件是可以通过一些配置让它们的文件放到该去的地方，若你是强迫症就是看这些文件不爽，也不是没有办法。&lt;/p&gt;&lt;p&gt;但是一个个去查找相关软件的配置多少还是有些麻烦了。有没有什么更好的办法来整治这些「违章建筑」呢？答案是肯定的，&lt;a href="https://github.com/b3nj5m1n/xdg-ninja" target="_blank"&gt;xdg-ninja&lt;/a&gt; 这个项目就是专门用来检查家目录中不合规的文件与文件夹的。&lt;/p&gt;&lt;h2&gt;开始安装&lt;/h2&gt;&lt;p&gt;xdg-ninja 存在于一部分包管理器的软件仓库中，比如 Nix、AUR 和 Homebrew，软件依赖 jq 和 find 这两个命令行工具，也可以选择安装 glow 来让命令行输出更有可读性。如果 xdg-ninja 没有在你使用的发行版仓库中，因为其本身只是个 bash 脚本，你也可以在安装好相关依赖后直接克隆 GitHub 仓库，然后运行其中的 &lt;code&gt;xdg-ninja.sh&lt;/code&gt; 脚本。&lt;/p&gt;&lt;p&gt;在终端中运行 xdg-ninja，就可以看到当前用户家目录中有哪些文件是可以移动的，以及需要做什么配置，这其中可以移动的文件类型与建议配置都是来自于各个软件的相关文档与用户贡献，如果你发现有文件没有检测到，也可以给项目提交规则。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/17/2671f36d0e1497e19af8c006477bba94.png" src="https://cdnfile.sspai.com/2024/07/17/2671f36d0e1497e19af8c006477bba94.png"/&gt;&lt;/figure&gt;&lt;p&gt;xdg-ninja 并不会自动为你移动家目录中的文件，事实上，它不会修改任何文件，所以不用担心它会搞乱你的家目录。它所做的，就只有读取家目录中的文件名，与仓库中的规则比对，从而显示出哪些文件是可以移动的，之后移动文件与进行配置都需要手动进行。&lt;/p&gt;&lt;p&gt;有点反直觉的是，xdg-ninja 的输出内容中，红色的项目代表的是可以移动的文件，而黄色的项目代表的是不可以移动，或是虽然可以移动，但之后还仍有可能被重新创建的文件。&lt;/p&gt;&lt;h2&gt;设置环境变量&lt;/h2&gt;&lt;p&gt;xdg-ninja 的输出内容前几行提示我们需要设置 &lt;code&gt;$XDG_DATA_HOME&lt;/code&gt;、&lt;code&gt;XDG_CONFIG_HOME&lt;/code&gt;、&lt;code&gt;XDG_STATE_HOME&lt;/code&gt;与 &lt;code&gt;XDG_CACHE_HOME&lt;/code&gt; 这几个环境变量，这是因为我使用的是窗口管理器，很多常用的功能与环境变量默认都没有设置，若你使用的是其他桌面环境且 xdg-ninja 输出中没有这几行的话，就说明这几个环境变量是默认设置好的。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/17/271bbd9151bbbb62fbee84e550a4667e.png" src="https://cdnfile.sspai.com/2024/07/17/271bbd9151bbbb62fbee84e550a4667e.png"/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href="https://wiki.archlinux.org/title/Environment_variables#Graphical_environment" target="_blank"&gt;在图形环境下设置环境变量&lt;/a&gt;的方法有很多，需要根据自己的实际情况来选择，大多数 Xorg 桌面环境会读取 &lt;a href="https://wiki.archlinux.org/title/Xprofile" target="_blank"&gt;xprofile&lt;/a&gt; 文件，而 Wayland 环境就各不相同了，比如 GDM 登陆管理器和 KDE Plasma 桌面环境默认会从 &lt;a href="https://wiki.archlinux.org/title/Systemd/User#Environment_variables" target="_blank"&gt;systemd&lt;/a&gt; 读取环境变量，而 SDDM 和 LightDM 则需要在启动脚本里设置环境变量。&lt;/p&gt;&lt;p&gt;我使用的登陆管理器 greetd 默认会从 &lt;code&gt;/etc/profile&lt;/code&gt; 和 &lt;code&gt;~/.profile&lt;/code&gt; 文件中读取环境变量，同时在 Archlinux 下 zsh 默认也会读取 &lt;code&gt;/etc/profile&lt;/code&gt; 里的环境变量，所以我打算将环境变量放在这里，不过为了方便管理，我将自定义的环境变量放在了 &lt;code&gt;/etc/custom_profiles&lt;/code&gt; 里面，然后在 &lt;code&gt;/etc/profile&lt;/code&gt; 文件里 source 它。&lt;/p&gt;&lt;p&gt;新建并编辑 &lt;code&gt;/etc/custom_profiles&lt;/code&gt;，在其中添加下面几行：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;# XDG directory
export XDG_DATA_HOME=$HOME/.local/share
export XDG_CONFIG_HOME=$HOME/.config
export XDG_STATE_HOME=$HOME/.local/state
export XDG_CACHE_HOME=$HOME/.cache&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后编辑 &lt;code&gt;/etc/profile&lt;/code&gt; 文件，在最后添加下面一行：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;source /etc/custom_profiles&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后注销重新登录，这些环境变量就会被重新读取了。&lt;/p&gt;&lt;h2&gt;一些软件的配置实例&lt;/h2&gt;&lt;p&gt;由于家目录中需要处理的文件比较多，篇幅原因我就不把全部的配置过程贴出来了，不过大致方法都差不多，常见的就是修改相关配置文件，或是添加特定的环境变量。另外添加的环境变量需要放在前文设置的几个 XDG 相关的环境变量之后，如果需要全局启用就添加到 &lt;code&gt;/etc/profile&lt;/code&gt; 里面，如果只想在终端中启用，就添加到对应的 .zshrc 或 .bashrc 里面。&lt;/p&gt;&lt;p&gt;下面是几个软件的配置实例。&lt;/p&gt;&lt;h3&gt;zsh 相关&lt;/h3&gt;&lt;p&gt;我的 zsh 配置比较复杂，我使用 &lt;a href="https://github.com/zimfw/zimfw" target="_blank"&gt;zim&lt;/a&gt; 来管理插件，还使用了 &lt;a href="https://github.com/romkatv/powerlevel10k" target="_blank"&gt;powerleve10k&lt;/a&gt; 主题，除了 &lt;code&gt;~/.zshrc&lt;/code&gt;，家目录里还有额外的 zsh 相关文件。&lt;/p&gt;&lt;p&gt;首先移动 &lt;code&gt;~/.zshrc&lt;/code&gt;，按照 xdg-ninja，编辑 &lt;code&gt;/etc/zsh/zshenv&lt;/code&gt; 文件，添加下面的环境变量：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;export ZDOTDIR=&amp;quot;$HOME&amp;quot;/.config/zsh&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/17/78aa149c97c0d04d685e8920a90a3542.png" src="https://cdnfile.sspai.com/2024/07/17/78aa149c97c0d04d685e8920a90a3542.png"/&gt;&lt;/figure&gt;&lt;p&gt;之后将 &lt;code&gt;~/.zshrc&lt;/code&gt; 移动到 &lt;code&gt;~/.config/zsh/.zshrc&lt;/code&gt;，因为我使用的 zim 管理插件，还需要将 zim 的配置文件也一并移动到 &lt;code&gt;~/.config/zsh/.zimrc&lt;/code&gt;，再次打开终端，zim 就会自动下载相关的插件并初始化终端。之后家目录里面的 &lt;code&gt;~/.zim&lt;/code&gt; 文件夹也可以一并删掉了&lt;/p&gt;&lt;pre&gt;&lt;code&gt;mkdir ~/.config/zsh
mv ~/.zshrc ~/.config/zsh/.zshrc
mv ~/.zimrc ~/.config/zsh/.zimrc&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;之后移动 zsh 的历史记录文件，默认 zsh 的历史记录文件会放在和 .zshrc 相同的目录下，xdg-ninja 建议将历史记录文件放在 &lt;code&gt;$XDG_STATE_HOME&lt;/code&gt; 里面，在 .zshrc 文件里添加以下环境变量：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;export HISTFILE=&amp;quot;$XDG_STATE_HOME&amp;quot;/zsh/history&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/17/1790dbe6c66086af659353dde4bbd51d.png" src="https://cdnfile.sspai.com/2024/07/17/1790dbe6c66086af659353dde4bbd51d.png"/&gt;&lt;/figure&gt;&lt;p&gt;之后将家目录里的历史文件移动过去：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;mkdir ~/.local/state/zsh
mv ~/.zhistory ~/.local/state/zsh/history&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;zim 还会创建 &lt;code&gt;~/.zcompcache&lt;/code&gt; 和 &lt;code&gt;~/.zcompdump&lt;/code&gt; 文件，这是补全插件生成的缓存文件。zim 的命令补全功能是靠内置的插件 &lt;a href="https://github.com/zimfw/completion" target="_blank"&gt;completion&lt;/a&gt; 实现的，如果按照下面 xdg-ninja 给出的办法设置缓存文件路径会和 zim 冲突产生报错。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/17/9933ca6daa89ee407fd5f39075af8187.png" src="https://cdnfile.sspai.com/2024/07/17/9933ca6daa89ee407fd5f39075af8187.png"/&gt;&lt;/figure&gt;&lt;p&gt;按照 zim 的&lt;a href="https://github.com/zimfw/completion?tab=readme-ov-file#settings" target="_blank"&gt;文档&lt;/a&gt;，正确的方法是在 .zshrc 文件最前面添加如下两行：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;zstyle &amp;#x27;:zim:completion&amp;#x27; dumpfile ${XDG_CACHE_HOME}/zsh/dumpfile
zstyle &amp;#x27;:completion::complete:*&amp;#x27; cache-path ${XDG_CACHE_HOME}/zsh/zcompcache&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;别忘了要手动创建文件夹&lt;/p&gt;&lt;pre&gt;&lt;code&gt;mkdir ~/.cache/zsh&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;还有 powerleve10k 在家目录创建的配置文件 &lt;code&gt;~/.p10k.zsh&lt;/code&gt;，需要将这个文件移动到 &lt;code&gt;~/.config/zsh&lt;/code&gt;，然后在 .zshrc 文件里面，找到下面行并修改：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh
# 改成
[[ ! -f ${ZDOTDIR:-~}/.p10k.zsh ]] || source ${ZDOTDIR:-~}/.p10k.zsh&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/17/e74f6a2003d0a934bfb86352576ac786.png" src="https://cdnfile.sspai.com/2024/07/17/e74f6a2003d0a934bfb86352576ac786.png"/&gt;&lt;/figure&gt;&lt;h3&gt;git&lt;/h3&gt;&lt;p&gt;家目录下的 &lt;code&gt;~/.gitconfig&lt;/code&gt; 文件是 git 的配置文件，根据 xdg-ninja，git 目前原生支持 XDG 标准，家目录下的配置文件是旧版本的遗留的文件：&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/17/0574b92bb87fb2f2fb614c3f2abcc4b3.png" src="https://cdnfile.sspai.com/2024/07/17/0574b92bb87fb2f2fb614c3f2abcc4b3.png"/&gt;&lt;/figure&gt;&lt;p&gt;&lt;br/&gt;只需将这个文件移动到 &lt;code&gt;$XDG_CONFIG_HOME/git/config&lt;/code&gt; 即可。&lt;/p&gt;&lt;pre&gt;&lt;code&gt;mkdir ~/.config/git
mv ~/.gitconfig ~/.config/git/config&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;cargo&lt;/h3&gt;&lt;p&gt;cargo 是一个 rust 的包管理器，&lt;code&gt;~/.cargo&lt;/code&gt; 文件夹是我在编译安装一些 rust 软件时自动生成的，按照 xdg-ninja，要更改这个目录，需要设置环境变量：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;export CARGO_HOME=&amp;quot;$XDG_DATA_HOME&amp;quot;/cargo&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/17/9389bca20495dcc573dc69e65e6fd1a6.png" src="https://cdnfile.sspai.com/2024/07/17/9389bca20495dcc573dc69e65e6fd1a6.png"/&gt;&lt;/figure&gt;&lt;p&gt;之后我是直接删掉了这个目录，因为它对我来说并没有什么用。&lt;/p&gt;&lt;h3&gt;gnupg&lt;/h3&gt;&lt;p&gt;&lt;code&gt;~/.gnupg&lt;/code&gt; 文件夹存放的是 gpg 相关的文件，如果有比较重要的密钥文件，则需要加倍小心，根据 xdg-ninja，这个文件夹可以通过设置环境变量修改，但可能会影响一些其他软件，保险起见我还是不动了它吧。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/17/d5b7a603b49ef20ef3c4cfcdba332bc8.png" src="https://cdnfile.sspai.com/2024/07/17/d5b7a603b49ef20ef3c4cfcdba332bc8.png"/&gt;&lt;/figure&gt;&lt;h3&gt;openssh&lt;/h3&gt;&lt;p&gt;&lt;code&gt;~/.ssh&lt;/code&gt; 文件夹存放着 openssh 相关的文件，包括 ssh 密钥等，目前没办法移动。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/17/7b5403273323532e614986692ccda477.png" src="https://cdnfile.sspai.com/2024/07/17/7b5403273323532e614986692ccda477.png"/&gt;&lt;/figure&gt;&lt;h3&gt;Flatpak&lt;/h3&gt;&lt;p&gt;&lt;code&gt;~/.var&lt;/code&gt; 文件夹是 Flatpak 软件的数据目录，通过 Flatpak 安装的软件是沙盒化的，只可以访问指定的目录，而其余的数据文件都会存放在这个目录中，这个文件夹目前无法移动。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/17/a946d9a4c8241175cde1b1ae36019e34.png" src="https://cdnfile.sspai.com/2024/07/17/a946d9a4c8241175cde1b1ae36019e34.png"/&gt;&lt;/figure&gt;&lt;h3&gt;Steam&lt;/h3&gt;&lt;p&gt;如果安装了 Steam 的话，家目录中会有好几个 Steam 相关的文件和文件夹，这个问题在 &lt;a href="https://github.com/ValveSoftware/steam-for-linux/issues/1890" target="_blank"&gt;github&lt;/a&gt; 上十多年前都有人提出来了，但直到现在都没解决，Valve 似乎并不关心这个问题。目前唯一的解决方案是改用 Flatpak 版本的 Steam。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/17/859883d1a5f456c3f13813ca993a8aa8.png" src="https://cdnfile.sspai.com/2024/07/17/859883d1a5f456c3f13813ca993a8aa8.png"/&gt;&lt;/figure&gt;&lt;hr/&gt;&lt;p&gt;&lt;strong&gt;除了 Steam，还有不少软件在家目录乱放文件且不愿意改，比如 Firefox 会在家目录创建 &lt;/strong&gt;&lt;code&gt;&lt;strong&gt;~/.mozilla/&lt;/strong&gt;&lt;/code&gt;&lt;strong&gt; 文件夹，如果实在看不惯这些文件，可以安装软件的 Flatpak 版本，然后用 Flatseal 来限制它们的文件访问范围和其他权限。需要注意的是要想让 Flatpak 软件遵循全局 GTK 主题，需要一些额外配置，不过这些软件连 XDG 标准都不会遵守，倒也不指望他们能好好地遵循 GTK 主题了😆。&lt;/strong&gt;&lt;/p&gt;&lt;h2&gt;结尾&lt;/h2&gt;&lt;p&gt;按照 xdg-ninja 的指引，经过一番配置后，我的家目录是这样的：&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/17/4410317305e7f02449a9dc8465f4e68a.png" src="https://cdnfile.sspai.com/2024/07/17/4410317305e7f02449a9dc8465f4e68a.png"/&gt;&lt;/figure&gt;&lt;p&gt;除了一些我选择保留的文件，其余文件和文件夹都十分整洁，相比之前杂乱无章的家目录，要赏心悦目不少。&lt;/p&gt;&lt;p&gt;&amp;gt; 关注 &lt;a href="https://www.xiaohongshu.com/user/profile/63f5d65d000000001001d8d4" target="_blank"&gt;少数派小红书&lt;/a&gt;，感受精彩数字生活 🍃&lt;/p&gt;&lt;p&gt;&amp;gt; 实用、好用的 &lt;a href="https://sspai.com/mall" target="_blank"&gt;正版软件&lt;/a&gt;，少数派为你呈现 🚀&lt;/p&gt;&lt;/div&gt;</description><author>so1ar</author><guid>https://sspai.com/post/90480</guid><pubDate>Wed, 24 Jul 2024 02:52:17 GMT</pubDate></item><item><title>派早报：英特尔将修复部分酷睿台式机处理器的稳定性问题等</title><link>https://sspai.com/post/90755</link><description>&lt;div&gt;&lt;h2&gt;你可能错过的新鲜事&lt;/h2&gt;&lt;h3&gt;英特尔将推送微码补丁修复部分酷睿台式机处理器的稳定性问题&lt;/h3&gt;&lt;p&gt;英特尔于 7 月 22 日回应了第 13 / 14 代酷睿台式机处理器的稳定性问题，确认是过高的运行电压导致部分第 13/14 代酷睿台式机处理器出现不稳定情况，通过对退回处理器的分析，英特尔进一步定位了问题原因，即微代码算法向处理器发送了错误的电压请求。英特尔表示将提供一个微代码补丁来修复该问题，后续也会持续推进验证工作，确保所有关于第 13/14 代酷睿台式机处理器稳定性问题的反馈都能得到解决。预计八月中旬完成全面验证后，微码补丁将向合作伙伴发布。不过该问题会导致受影响的处理器性能出现永久性、不可逆转的下降，因为微代码补丁无法修复已经出现崩溃的处理器，英特尔希望遇到该问题的用户联系售后支持，并承诺为受影响的客户更换新 CPU。&lt;a href="https://community.intel.com/t5/Processors/July-2024-Update-on-Instability-Reports-on-Intel-Core-13th-and/m-p/1617113#M74792" target="_blank"&gt;来源&lt;/a&gt;&lt;/p&gt;&lt;h3&gt;Google 放弃弃用第三方 Cookie 的计划&lt;/h3&gt;&lt;p&gt;Google 于 7 月 22 日发布新闻稿，宣布搁置原有的「在 2025 年前逐步在 Chrome 浏览器中淘汰第三方 Cookie」的规划，该决定基于长期测试结果以及相关利益方的测试反馈，Google 后续将在 Chrome 中向用户提供更为明确的 Cookie 选择方式，同时也将继续开发隐私沙盒 API，并在隐私浏览模式中为用户提供 IP 保护功能。&lt;a href="https://privacysandbox.com/news/privacy-sandbox-update/" target="_blank"&gt;来源&lt;/a&gt;&lt;/p&gt;&lt;h3&gt;育碧就《刺客信条：影》宣传物料争议致歉&lt;/h3&gt;&lt;p&gt;7 月 23 日，育碧就旗下新作《刺客信条：影》宣传物料所引发的争议向日本社区&lt;a href="https://x.com/assassinscreed/status/1815674592444187116" target="_blank"&gt;致歉&lt;/a&gt;，开发团队澄清该作剧情是基于历史的虚构创作，由于系列的幻想作品特质，将弥助描绘为武士也是「创意自由」，育碧认为该角色「独特而神秘的生活」是在日本封建时代背景下讲述《刺客信条》故事的理想人选；针对引发的风波，团队将继续改进，希望玩家能够喜爱最终作品。&lt;a href="https://www.gcores.com/articles/185509" target="_blank"&gt;来源&lt;/a&gt;&lt;/p&gt;&lt;h2&gt;看看就行的小道消息&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;外媒 9to5Google 于 7 月 22 日曝光了 Google 下一代 Google TV Streamer 机顶盒的外观，由配备 HDMI 接口的基座和附带的遥控器组成，遥控器相对上一代显得更长，同时正面新增了音量增减按钮，而语音控制按钮从 Google 助理 logo 换成了普通麦克风图标。预计这款新硬件将在 8 月 13 日的 Google 发布会上亮相。&lt;a href="https://9to5google.com/2024/07/22/google-tv-streamer/" target="_blank"&gt;来源&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;figure&gt;&lt;img alt="Wk48bt6oLow3f6xUmQsc4FCznod" data-original="https://cdnfile.sspai.com/editor/u_/cqftrqlb34t8l152i3kg.png" src="https://cdnfile.sspai.com/editor/u_/cqftrqlb34t8l152i3kg.png"/&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt;The Verge 援引 &lt;a href="https://www.theinformation.com/articles/apple-moves-forward-with-foldable-iphone" target="_blank"&gt;The Information&lt;/a&gt; 的独家报道称，Apple 的首款折叠屏设备外观设计已经确定，内部研发代号为 V68，预计将于2026 年上市。&lt;a href="https://www.theverge.com/2024/7/23/24204421/apple-first-foldable-iphone-arrive-2026" target="_blank"&gt;来源&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;少数派的近期动态&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;少数派正版软件 &lt;a href="https://sspai.com/mall/discount/13" target="_blank"&gt;7 月特惠&lt;/a&gt;限时开启，&lt;a href="https://sspai.com/item/25" target="_blank"&gt;Microsoft 365 工具升值包&lt;/a&gt;入手好时机。&lt;/li&gt;&lt;li&gt;为庆祝少数派会员走入第四年，从 2024 年 7 月 17 日至 8 月 16 日，现有年度会员续费可享受 178 元起的优惠价格，第一季老会员可继续享受 128 元起的创始会员价格（不含点数方案，含点数方案分别为 198 元和 258 元）。和以往一样，这将是会员促销的全年最低价格。如果你想加入少数派会员，这是最好的时机。&lt;a href="https://sspai.com/prime/explore" target="_blank"&gt;&lt;strong&gt;前往了解&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;&lt;li&gt;新付费栏目：我们集结了少数派 Prime 会员内容中与外设相关的文章，并做了检查、更新和补充，制作了这份《外设玩家》，话题涵盖键鼠的进阶用法、键鼠的定制化风潮、更少见的键鼠设备介绍等。 罗技游戏鼠标最复杂也最自由的功能—— Lua 脚本如何制作？「gasket 结构」键盘是真有货还是假营销？如何手搓一个 QMK 固件？分体键盘应该如何上手？或许从这里开始，你也能在键盘鼠标里找到属于自己的乐趣。上架首月限时 7 折优惠，或加入数派年度会员即可免费畅读。&lt;a href="https://sspai.com/series/374" target="_blank"&gt;前往了解&lt;/a&gt;&lt;/li&gt;&lt;li&gt;深圳的派友们，七夕如果不外出游玩，我们线下店也有不错的活动哦，详情稍后会再公布，敬请留意。&lt;/li&gt;&lt;/ul&gt;&lt;figure&gt;&lt;img alt="RD5ObGjA5o0xFzxImYdcPvqzndd" data-original="https://cdnfile.sspai.com/editor/u_/cqftrqtb34t8l152i3l0.jpeg" src="https://cdnfile.sspai.com/editor/u_/cqftrqtb34t8l152i3l0.jpeg"/&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt;我派的新视频栏目「&lt;a href="https://space.bilibili.com/3546728695335196" target="_blank"&gt;少数派开啥车&lt;/a&gt;」和大家见面啦！这个栏目今后会做一些好玩、有趣、有意义的汽车内容。第一期视频已经上线，来看看我派同事 Vio 在 2024 年购买的大众甲壳虫到底是捡漏还是大冤种吧！&lt;a href="https://www.bilibili.com/video/BV1L2421Z7qA/" target="_blank"&gt;前往观看&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;你可能错过的文章&lt;/h2&gt;&lt;p&gt;&amp;gt; 关注 &lt;a href="https://sspai.com/s/J71e" target="_blank"&gt;少数派公众号&lt;/a&gt;，解锁全新阅读体验 📰&lt;/p&gt;&lt;p&gt;&amp;gt; 实用、好用的 &lt;a href="https://sspai.com/mall" target="_blank"&gt;正版软件&lt;/a&gt;，少数派为你呈现 🚀&lt;/p&gt;&lt;/div&gt;</description><author>少数派编辑部</author><guid>https://sspai.com/post/90755</guid><pubDate>Tue, 23 Jul 2024 23:55:52 GMT</pubDate></item><item><title>社区速递 054 | 你没见过的社区文章、一周最热评、派友用的翻译服务</title><link>https://sspai.com/post/90736</link><description>&lt;div&gt;&lt;p&gt;除了首页时间流和侧栏的精选展位，少数派 Matrix 社区还有很多优秀内容因条件所限无法得到有效曝光，因此我们决定重启 Matrix 周报，并在此基础上添加更多社区内容、作者投稿新玩意呈现给大家。&lt;/p&gt;&lt;hr/&gt;&lt;h2&gt;一周热评&lt;/h2&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;CharlieLau &lt;/strong&gt;(+3) 「说来奇怪，那些占道遛弯或者骑车蜗行的在听到让一让的呼喊能置若罔闻，却在“叮叮叮”声中有着本能的避让，也是一种巴甫洛夫了。」深有同感&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;查看原文：&lt;a href="https://sspai.com/post/90514" target="_blank"&gt;《专为骑行新手，佳明新旗舰码表1050评测》&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;id &lt;/strong&gt;(+47) 对于内置app，我原本要求是越简洁越好的。 但随着第三方app，尤其是一些完全没必要用订阅模式的小 app 也可开始推出了各种完全不合理的订阅价格，而且取消了买断版本的销售。&lt;/p&gt;&lt;p&gt;我开始支持内置 app 增加功能，复杂化，并作为自己的主力了。&lt;/p&gt;&lt;p&gt;Apple Notes（备忘录这个名字不好）、待办事项、无边记、日历、钥匙串现在可用度已经可以创死一大半第三方了，继续继续加大力度😊&lt;/p&gt;&lt;/blockquote&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;noahhhh &lt;/strong&gt;(+5) macOS 15 支持外接显示器调节亮度功能，我又试了下和 USB-C 无关，是开启了 HDR 才有，调节后显示器 OSD 显示的实际亮度是不变的。这个功能和 Windows 开启 HDR 的 SDR/HDR 亮度条一样，会通过遮罩改变 SDR 内容的亮度。&lt;/p&gt;&lt;/blockquote&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;少数派17629843 &lt;/strong&gt;(+2) 纠正一个错误……窗口不光是可以拖动到屏幕左右两侧，可以左右分屏；还可以拖动到四角，进行四分之一分屏。&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;查看原文：&lt;a href="https://sspai.com/post/90618" target="_blank"&gt;《具透 | macOS Sequoia Public Beta 公测版来了，这些是值得你关注的新功能》&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;潘誉晗 &lt;/strong&gt;(+2) 我觉得《十字路口的猪》可能不一定是所有人都喜欢的那一款。周四我看这一部电影的时候是投屏着顺带着在拉资料，确实也因为要搞打印机的问题所以暂停了多次略有分心。我估计也是因为这样的原因，所以我在看这部剧的时候有点痛苦，电影本身拍得很简陋，但恰好就是因为这样的直白方式，更接近于我们日常的生活，那种直观地去直视死亡之后游离在这个社会上然后无能为力地看着家人的感觉。周三的时候我刚好和老妈子在谈这个问题，我说我真怕我爸妈有一天离开了就剩下我一个，所以我们一定要好好活着，好好吃饭，关上门把自己的日子过好。结果第二天就看这样的宗教电影，心里有点难过。&lt;/p&gt;&lt;p&gt;《政坛旋风》是这几年韩国电影咖们「屈尊」电视界我觉得最好的一部。韩国政权三权分立，然后互斗这样。有的时候确实很羡慕他们这么敢拍。&lt;/p&gt;&lt;p&gt;《黑色止血钳》我还是有些滤镜的，因为我是多年的arashi粉，所以上周看过一集之后想等等开分再推荐，这样可以更中立的立场。我觉得发挥还是很好的，豆瓣其实有不少刻意低分，但还是有7.7。&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;查看原文：&lt;a href="https://sspai.com/post/90624" target="_blank"&gt;《本周看什么 | 最近值得一看的 9 部作品》&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;韶夏 &lt;/strong&gt;(+1) 文章开头就注明了利益相关，也没有在标题传达的重要内容中夹带产品，游记的归游记，产品的归产品，这样分清楚不比那些软植入的更好么？非要揣测人家带货只会显得自己内心比较.....&lt;/p&gt;&lt;p&gt;回复文章或评论时应推定他人为善意。——《少数派评论公约 No.2》&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;查看原文：&lt;a href="https://sspai.com/post/90363" target="_blank"&gt;《两天时间兜个小圈子，用自驾的方式认识贵州》&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;Barnett &lt;/strong&gt;(+1) 本来我不带表睡觉的，看到生命体征出了以后我就戴表睡了&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;查看原文：&lt;a href="https://sspai.com/post/90582" target="_blank"&gt;《具透 | 精心细调更懂你：watchOS 11 中值得关注的更新》&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;陈博衍 &lt;/strong&gt;(+3) 上海拿得出手的书店也就个福州路一条街，从外文到书城，应有尽有，可惜现在都已经拆的弄得差不多了。这里面额外可以挤进高质量书店的大概就一个经世书局，和清华边上的书店一个道理，有个复旦撑着。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;薛定谔的猫主子 &lt;/strong&gt;(+3) 群岛BOOKS 和神兽之间是上海选书最好的书店，之禾空间也蛮不错的，它家之前的建筑十讲我超喜欢，而且有画廊可以看展，香蕉鱼其实也可以。&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;查看原文：&lt;a href="https://sspai.com/post/90123" target="_blank"&gt;《在上海，做一个书店游民》&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;捣蛋 &lt;/strong&gt;(+40) 「一方面环保既然作为产品亮点，本来就是溢价之一」我不太认同这个观点呀。&lt;/p&gt;&lt;p&gt;如果环保产品无法以物美价廉的方式迭代掉原本的产品，那么环保只成了一个口号。&lt;/p&gt;&lt;p&gt;而且有时消费者很难去深追到底，一个产品是否所有的环节都是绿色的。比如新能源汽车。给电池充电的能源是否来自于清洁能源呢？电池的生产，回收处理环节又对环境造成了多大影响呢？&lt;/p&gt;&lt;p&gt;如何改良生产工艺降低成本减轻对环境的影响，这应该是厂商的责任，是研发者们的追求，不该由消费者承担。除非就是愿意花钱支持这些产品。&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;查看原文：&lt;a href="https://sspai.com/post/90584" target="_blank"&gt;《新玩意 188｜少数派的编辑们最近买了啥？》&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;A450DC2F &lt;/strong&gt;(+13) 我见过的 linux 用户，就算是开源魔怔人，也都会承认 gimp 不好用（&lt;/p&gt;&lt;p&gt;&lt;strong&gt;projectmanag &lt;/strong&gt;(+3) 感谢分享，感觉比GIMP本身界面好用多了。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;zhang33 &lt;/strong&gt;(+1) UX 设计师，之前试过 PhotoGIMP，依旧觉得不好用，最后打折买了 Affinity 全套。&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;查看原文：&lt;a href="https://sspai.com/post/90413" target="_blank"&gt;《App+1 | PhotoGIMP：让开源的 GIMP「变身」Photoshop》&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;潮鳴 &lt;/strong&gt;(+13) 以前这个锁屏界面电筒的按钮真的是最反人类的更新，每次上地铁刷完卡后用手抓着走路，莫名其妙就会小拇指按住然后点亮，之后又把手机装进裤兜里，朋友就问我：为什么你的裤兜在发光🙄&lt;/p&gt;&lt;/blockquote&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;文某君 &lt;/strong&gt;(+11) iPhone 镜像这个功能，虽然说肯定是有其方便之处的，但感觉好像把之前融通三端的努力都给放弃了 😂 iPhone 和 iPad App 可以安装在 Mac 上，然后 Mac 也可以直接显示来自 iPhone 的小组件……之前都是在往「无感融合」的方向在设计。&lt;/p&gt;&lt;p&gt;现在的 iPhone 镜像看着像是是捏合了之前 iPhone 和 Mac 间的通讯模块，加上 Xcode 模拟器的触控适配，还有一个毫无设计的图标，赶在发布会之前赶工做出来的新功能……让 Mac 能运行 iPhone 的 App、能接收 iPhone 的通知，明明可以更优雅、更无感的，现在这样就有点……难评。&lt;/p&gt;&lt;p&gt;实话说 iOS 18 真的给我一种「大厦将倾」的感觉，今年打算试试往安卓过渡了……&lt;/p&gt;&lt;/blockquote&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;Levinson &lt;/strong&gt;(+3) T9键盘支持英文，如果想要中文的话需要配合一个app：Phonetic Contacts来自动给所有联系人加上拼音首字母昵称&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;查看原文：&lt;a href="https://sspai.com/post/90525" target="_blank"&gt;《具透 | iOS 18 Public Beta 公测版来了，这些功能值得一试》&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;葛仲君 &lt;/strong&gt;(+11) 哈哈，居然在首页看到一篇专业产品本地化的文章！&lt;/p&gt;&lt;p&gt;我补充两点：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;ƒîîîกี้ð Ĥéééļþ ÖÖÖกี้ļîîîกี้ééé这样的伪本地化文本一个额外的目的是测试高文字，如泰文/缅甸文的适配/显示是否有问题&lt;/li&gt;&lt;li&gt;现在产品设计很多都用Figma了，Figma里也有一些插件是可以实现伪本地化/文案机翻的，所以很多设计问题在设计阶段就可以解决了，不必等到测试阶段了，因此发现有问题再修改的成本比较低（还没进入开发阶段，只改设计就行）&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;做产品本地化很有意思的，中国产品出海也是未来的大趋势，需要相关人才。&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;查看原文：&lt;a href="https://sspai.com/post/90269" target="_blank"&gt;《在「机器翻译」盛行的时代，「伪本地化」是否还有必要？》&lt;/a&gt;&lt;/p&gt;&lt;h3&gt;社区摘要&lt;/h3&gt;&lt;p&gt;你没见过的社区文章：&lt;/p&gt;&lt;p&gt;生活Tips：&lt;/p&gt;&lt;p&gt;奇思妙想：&lt;/p&gt;&lt;h2&gt;作者的新玩意&lt;/h2&gt;&lt;p&gt;为了让作者的投稿尽快与广大读者见面，我们调整了《新玩意》栏目中作者投稿部分的呈现方式和周期，作者投稿的「新玩意」后续会迁移至本栏目。投稿渠道与奖励方式仍与以往完全一致，详情参见文末。我们相信新鲜火热出炉的分享更能赢得大家的喜爱，也欢迎广大读者朋友们踊跃投稿。&lt;/p&gt;&lt;h3&gt;@小骑士： 猎户座手柄 Xbox 追光版&lt;/h3&gt;&lt;p&gt;早些年玩游戏的时候一直非常坚持要用原厂原装手柄，PlayStation 也好，Xbox 也好，Switch 也好，一定要买官方的，坚信官方的就是最好的。&lt;/p&gt;&lt;p&gt;后来有一个限定版的 Switch Pro 手柄才用了半年多就漂移了，拿去给朋友修的时候，人家说你这冤大头了啊，大几百买的限定版手柄不仅是二手的，甚至还是维修过被换过料的二手。直接建议我别修了，有这钱不如换一个新的。自此之后，再也无法抱着信任去看着各家淘宝店里几百块的 「原装」 手柄了。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/05/f1d06154846b81b24baf940bf8bd8a9c.jpg" src="https://cdnfile.sspai.com/2024/07/05/f1d06154846b81b24baf940bf8bd8a9c.jpg"/&gt;&lt;figcaption&gt;最失败的一次限定版投资&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;但游戏还得玩，总得买个新手柄用着。去年研究了一圈，买了八位堂的猎户座无线套装。这也是我第一次买八位堂的手柄，事实证明 300 刚出头的价格，这样的手感和品质绝对是物超所值，直接打破了我对原装手柄的执念。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/05/3ba059bb04d109439a312df984615f93.jpg" src="https://cdnfile.sspai.com/2024/07/05/3ba059bb04d109439a312df984615f93.jpg"/&gt;&lt;figcaption&gt;去年最成功的一次投资&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;到他们今年推出 「猎户座手柄 Xbox 追光版」 的时候，正好想添置一个有线手柄，毫不犹豫就第一时间入手了。搞笑的是，买来用了半个月之后，又在微博上抽中了一个。（不过这篇真的不是因为中奖才来写的，真的。）&lt;/p&gt;&lt;p&gt;颜色上，这次它们的新产品有三种颜色，除了常见的黑色之外，还有绿色和橙色两种选择。正好家里的电脑是绿色的外观，索性就买了绿色。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/05/105553a2411543a1cf20a80badb075b7.jpg" src="https://cdnfile.sspai.com/2024/07/05/105553a2411543a1cf20a80badb075b7.jpg"/&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/05/47aaa7b3ffc4549dd698384b34e28b81.jpg" src="https://cdnfile.sspai.com/2024/07/05/47aaa7b3ffc4549dd698384b34e28b81.jpg"/&gt;&lt;/figure&gt;&lt;p&gt;值得称赞的一点是，手柄附赠的 USB 线和手柄是相同的颜色，在我茫茫多的 USB 线盒里一眼就能找到，而且 2.5m 的长度真的非常够用。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/05/13be910822ef81d07b3520ff4d2ce612.jpg" src="https://cdnfile.sspai.com/2024/07/05/13be910822ef81d07b3520ff4d2ce612.jpg"/&gt;&lt;/figure&gt;&lt;p&gt;十字键很清脆，按下去有咔嚓的一声，触感也很明确，是我非常喜欢的手感；&lt;/p&gt;&lt;p&gt;ABXY 键的手感我觉得与 Xbox 官方手柄相差不大。非要说的话，官方手柄的按键周围会有一些缝，所以按键其实是能轻微拨动的，而八位堂的按键周围则更紧一些。但都不影响正常使用；&lt;/p&gt;&lt;p&gt;左右两边的肩键也是同样的清脆不滞留，也是很好的，只不过肩键的触感我个人会更喜欢 Xbox 官方手柄一些；&lt;/p&gt;&lt;p&gt;扳机键，我没有做过严谨的测试，但我个人手感觉得八位堂 Xbox 追光版的手柄键程比 Xbox 和 PlayStation 手柄都要短一点点。因为我平时射击游戏和动作游戏玩的更多，所以这点我是很喜欢的。&lt;/p&gt;&lt;p&gt;最后是摇杆，这几年相信大家都被手柄摇杆漂移的问题刷过屏了，我自己也是亲身经历过，踩过坑。这几年各家都开始吹霍尔摇杆能有效防止漂移问题，给自己产品上 Buff 和价值。是不是真的我没有研究过，但我只能说在一个不到 200 元的手柄里，这个摇杆质量非常顶，我挑不出毛病。&lt;/p&gt;&lt;p&gt;除了常见的波浪外形和防滑颗粒之外，摇杆最容易磨损的地方，它们用了金属材质，基本解决了摇杆磨损的问题。对于我这种曾经将摇杆磨断过的人来说，这是真的好评。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/05/2bfe895c2f84cebed2b6f62b98ae5530.jpg" src="https://cdnfile.sspai.com/2024/07/05/2bfe895c2f84cebed2b6f62b98ae5530.jpg"/&gt;&lt;/figure&gt;&lt;p&gt;值得一提的是，与 Xbox 原装手柄相比，八位堂 Xbox 追光版摇杆默认回中的力度略强一些，换句话就是推摇杆需要更大的力度。但这个力度远没有让人手酸的地步，反而是我觉得在做一些需要半推或者轻推摇杆的动作时，会更加容易控制，我个人是喜欢这点的。&lt;/p&gt;&lt;p&gt;至于摇杆周围那一圈 RGB 环形灯，是挺好看的，还会随着摇杆变换颜色。只是我的确不是 RGB 爱好者，于我而言可有可无……&lt;/p&gt;&lt;p&gt;最后唯一遗憾的应该就是这个手柄不支持自定义按键，连发或者宏。想了想，八位堂应该也是考虑得把这些功能留给更高级的版本，否则这个不到 200 的有线手柄就太过于超模了。&lt;/p&gt;&lt;h3&gt;@写小黑文的Alex：迷你小巧的电动充气宝&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;入手渠道：淘宝&lt;/li&gt;&lt;li&gt;购买价格：400&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;公路车骑行最近很火热，许多新手进圈，而他们的第一课往往都是怎么给车打气，公路车胎不同意代步车三四十胎压可以半年打一次，由于采用了法式气嘴和 80PSI 以上的高胎压，会有慢撒气的情况，隔几天就得补点气。同时车胎也容易扎胎，半路换胎应急补个气是常事，所以需要各种各样的打气设备。&lt;/p&gt;&lt;p&gt;像我就有一个 TREK 落地气筒是主力气筒日常补气用，一个小米电动充气宝用于出京骑行时用，一个蝴蝶效应的补胎液气瓶用来伺候我的管胎轮组，一个雷音 CO2 气瓶套装用来应对开口胎半路扎胎，一个雷音便携落地气筒扔装车包里应急的。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/12/8cebcaa72443553ad5f0f97fe25b6bd9.jpg" src="https://cdnfile.sspai.com/2024/07/12/8cebcaa72443553ad5f0f97fe25b6bd9.jpg"/&gt;&lt;/figure&gt;&lt;p&gt;最近又搞了个迷你电动充气宝，想替代后面那一堆装备。相比小米这种传统电动充气宝，迷你充气宝体积全面占优，甚至面对 CO2 气瓶和便携气筒都不遑多让。小巧的体积放尾包是完全可以的，甚至梁包也能塞进去，只是就剩不下什么空间给能量胶啥的了，旅行骑行时带着也不会像小米充气宝那样挤占本不富裕的行李空间。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/12/4f43d043e467f5268963e3803e2c896a.jpg" src="https://cdnfile.sspai.com/2024/07/12/4f43d043e467f5268963e3803e2c896a.jpg"/&gt;&lt;/figure&gt;&lt;p&gt;在重量上，迷你充气宝也做得不错，带壳的迷你气瓶比全套气瓶也就重了 5 克。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/12/40c7cbcca85b290dfcd1991f2e4315a6.jpg" src="https://cdnfile.sspai.com/2024/07/12/40c7cbcca85b290dfcd1991f2e4315a6.jpg"/&gt;&lt;/figure&gt;&lt;p&gt;不过优秀的体积重量也是牺牲了一部分使用体验的。&lt;/p&gt;&lt;p&gt;首先是小巧的机身就意味着电池小，而电动气泵还挺耗电的，就我用的这个来说，满电也就够打两个胎。打气时还必须手按在上面，否则就会在气压的冲击下掉下来，又吵又烫的，打满一个胎差不多得 2 分钟左右，就还挺难熬的。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/12/1947cffdeed4fe76515719fd9cecbf5b.jpg" src="https://cdnfile.sspai.com/2024/07/12/1947cffdeed4fe76515719fd9cecbf5b.jpg"/&gt;&lt;/figure&gt;&lt;p&gt;也因为要控制体积，也就没有显示屏，既看不到胎压，也看不到还剩多少电，就还是让人没那么放心。没法看到胎压同时也意味着没法像小米充气宝那样预设胎压，只能纯靠手感了。而且胎压也打不了 100 以上的高压，更适合低胎压的真空胎补气，开口和管胎还是差那么一口气。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/12/228bf29f5f9d1a45e0a5f50009a9a34c.jpg" src="https://cdnfile.sspai.com/2024/07/12/228bf29f5f9d1a45e0a5f50009a9a34c.jpg"/&gt;&lt;/figure&gt;&lt;p&gt;最后是价格，CO2 气瓶大概是 5 块一个，400 块的迷你充气宝能买多少个气瓶了，如果是用来替代气瓶的成本也有点高，但并不能说没有性价比。气瓶虽然便宜但用起来确实吓人而且很多还无标，也不知道时间长了是不是还能用。而迷你充气宝怎么说也是正经通过了 3C 认证的，只要没坏用起来也是放心的。&lt;/p&gt;&lt;p&gt;而且电机烫手和 CO2 气瓶能结冰的寒气相比的话，个人觉得两害相较取其轻还是烫手更安全一点。&lt;/p&gt;&lt;p&gt;就用起来有些如鲠在喉，但也能简化大批充气设备。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/12/0cf2f82b21733e80b38161956ab79eec.jpg" src="https://cdnfile.sspai.com/2024/07/12/0cf2f82b21733e80b38161956ab79eec.jpg"/&gt;&lt;/figure&gt;&lt;h2&gt;一派热议&lt;/h2&gt;&lt;blockquote&gt;&lt;p&gt;一派翻新 UI、新增多图上传，大家喜欢的话可以来试试哦。&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;在上期第 163 期一派投票《&lt;a href="https://sspai.com/bullet/1720508573" target="_blank"&gt;你最爱用的网页翻译服务？&lt;/a&gt;》中，共有 595 名派友热情参与，十分感谢！&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/23/4e1e39efc0f67a2514e3ce4ed4c75ea9.png" src="https://cdnfile.sspai.com/2024/07/23/4e1e39efc0f67a2514e3ce4ed4c75ea9.png"/&gt;&lt;figcaption&gt;老牌谷歌翻译依然占据最大份额，与大语言模型、DeepL翻译形成了类似三足鼎立的局面。&lt;/figcaption&gt;&lt;/figure&gt;&lt;h3&gt;翻译工具选择&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;杨涛 &lt;/strong&gt;(+84) &lt;a href="https://immersivetranslate.com/" target="_blank"&gt;https://immersivetranslate.com/&lt;/a&gt; 沉浸式翻译，一键开启双语阅读。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;少数派 52821142 &lt;/strong&gt;(+25) &lt;a href="https://github.com/fishjar/kiss-translator" target="_blank"&gt;https://github.com/fishjar/kiss-translator&lt;/a&gt; 沉浸式翻译的开源替代品，用户设置的细致程度甚至更好。个人认为翻译插件这种可以读取所有页面信息的，还是本地部署安全一些。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;大笨头 &lt;/strong&gt;(+4) 平时看网站用 relingo，需要优质翻译时使用沉浸式翻译调用 4o 来翻译。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;珪璋 &lt;/strong&gt;(+1) Trancy，目前为止体验最好的。配合沙拉词典。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;我要电赞 &lt;/strong&gt;(+0) 火狐浏览器中的TWP插件&lt;/p&gt;&lt;p&gt;&lt;a href="https://addons.mozilla.org/pt-BR/firefox/addon/traduzir-paginas-web/" target="_blank"&gt;https://addons.mozilla.org/pt-BR/firefox/addon/traduzir-paginas-web/&lt;/a&gt;&lt;/p&gt;&lt;h3&gt;翻译服务点评&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;PlatyHsu &lt;/strong&gt;(+11) 谷歌，因为错得最有规律，看着常见尴尬结果就知道原句式是什么。没觉得 AI 模型翻译的特别有优势，因为随便看看的话谷歌也能看懂，严肃翻译的话用谁翻都不能直接照搬，用 AI 还贵。反倒是对于个别不确定的语境含义问问 AI 挺好的，参考 prompt：`what does ${word} mean in the following sentence: 「${sentence}」`&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Tall_David &lt;/strong&gt;(+4) 怎么没有网易有道的选项，感觉吊打其他国产翻译服务&lt;/p&gt;&lt;p&gt;&lt;strong&gt;书虫 &lt;/strong&gt;(+2) DeepL 算是目前翻译质量和速度都不错的，是我目前的首选。遇到翻译不那么通顺的，再用大模型翻译一遍，基本都可以正常阅读&lt;/p&gt;&lt;p&gt;&lt;strong&gt;JoeyLee &lt;/strong&gt;(+0) 日常使用的是 Google Translate，因为预设在浏览器里，感觉更加方便。而且那些错词什么的看看原文基本也能看懂。&lt;/p&gt;&lt;p&gt;如果真的是要写报告需要那种高质素翻译的话，那我会选择 GPT-4o。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;songwang &lt;/strong&gt;(+0) 我都直接用 Safari 自带的网页翻译器。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Moi &lt;/strong&gt;(+0) 办了彩云小译会员，翻译 PDF 文件量大管饱、双语对照&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;📢：下一期的一派讨论是有奖话题《&lt;a href="https://sspai.com/bullet/1721188121" target="_blank"&gt;出门时，你的包里都有啥？&lt;/a&gt;》，欢迎来聊。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;如果你也想分享「新玩意」🔉：&lt;/strong&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;获取 Matrix 社区写作权限并签署 &lt;a href="https://sspai.com/post/72089" target="_blank"&gt;Matrix 共创计划&lt;/a&gt;；&lt;/li&gt;&lt;li&gt;在少数派独家发布一篇文章，在标题中标注「新玩意」前缀；&lt;/li&gt;&lt;li&gt;用至少 800 字介绍产品，并配上 2-3 张产品的实拍图片；&lt;/li&gt;&lt;li&gt;&lt;strong&gt;在网站个人信息中补充支付宝账号。&lt;/strong&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;成功入选本栏目还可以得到 108 元的「剁手红包」🧧。如果你有兴趣参与，就赶紧来稿吧！&lt;/p&gt;&lt;p&gt;🤖：希望这份「社区速递」能帮你发现更多有趣的内容分享；栏目也在筹备一周年改版，如果你有任何栏目内容或首页改版建议，也欢迎在评论区留言反馈。&lt;/p&gt;&lt;p&gt;&amp;gt; 下载少数派 &lt;a href="https://sspai.com/page/client" target="_blank"&gt;客户端&lt;/a&gt;、关注 &lt;a href="https://sspai.com/s/J71e" target="_blank"&gt;少数派公众号&lt;/a&gt;，了解更多的新玩意 🆒&lt;/p&gt;&lt;p&gt;&amp;gt; 特惠、好用的硬件产品，尽在 &lt;a href="https://shop549593764.taobao.com/?spm=a230r.7195193.1997079397.2.2ddc7e0bPqKQHc" target="_blank"&gt;少数派 sspai 官方店铺 &lt;/a&gt;🛒&lt;/p&gt;&lt;/div&gt;</description><author>Matrix机器人</author><guid>https://sspai.com/post/90736</guid><pubDate>Tue, 23 Jul 2024 09:06:47 GMT</pubDate></item><item><title>盖是「蓝屏」的，但锅不全是微软的：聊聊近期的 Windows 大规模宕机</title><link>https://sspai.com/post/90673</link><description>&lt;div&gt;&lt;p&gt;2024 年 7 月 19 日，全球各地网友突然发现他们的 Windows 电脑开始频繁出现蓝屏（BSOD）故障。当他们在社交媒体上吐槽时，更严重的危机也蔓延到了关键领域，包括但不限于零售、航空、金融、医疗等。比如，美国多家主要航空公司取消航班，银行和交易所停止服务。网络安全研究员 Troy Hunt 认为，这可能是史上最大规模的 IT 故障。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/22/855fc106ed1306d79fc5c8a5e5b5d1fc.png" src="https://cdnfile.sspai.com/2024/07/22/855fc106ed1306d79fc5c8a5e5b5d1fc.png"/&gt;&lt;/figure&gt;&lt;p&gt;还记得上一次全球性 Windows 系统崩溃，还发生在震荡波/冲击波等蠕虫病毒肆虐的时代。在计算机网络安全已得到空前重视的今天，这次席卷全球的 Windows 蓝屏故障究竟是如何发生的呢？&lt;/p&gt;&lt;h2&gt;一场由安全公司导致的全球 Windows 蓝屏宕机事件&lt;/h2&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/22/3e44da6d254fad7da32f6e2e6587121c.png" src="https://cdnfile.sspai.com/2024/07/22/3e44da6d254fad7da32f6e2e6587121c.png"/&gt;&lt;/figure&gt;&lt;p&gt;尽管国内有些新闻媒体在事件刚开始的时候，将这次宕机事故简单描述为「Windows 系统蓝屏」，并将其归咎于使用了外国的 Windows 操作系统，但这种解释并不成立。经过简单分析，可以发现：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;蓝屏宕机发生的同时，国内相关服务机构的终端设备也安装了 Windows 操作系统，但依旧正常运行并提供服务；&lt;/li&gt;&lt;li&gt;国内虽然也有 Windows 电脑出现蓝屏宕机，但主要是外企的设备，国内大部分公司和个人电脑未受影响。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;这些现象表明，导致这次全球 Windows 系统蓝屏宕机的罪魁祸首并非微软，而是另有其人。&lt;/p&gt;&lt;p&gt;随着网友、各个机构以及微软的介入，这场全球 Windows 系统宕机故障的原因逐渐清晰——宕机设备都安装了 CrowdStrike 公司的安全软件。CrowdStrike 的产品主要用于帮助企业防范勒索软件等黑客威胁，近年来业务扩展迅速，成为该领域的主要供应商。与传统防病毒软件相比，其产品属于「端点检测和响应」类软件，可以不断扫描设备上的可疑活动并自动做出响应。为了实现这种级别的防护，其组件需要作为驱动程序运行在内核级别，从而带来了造成操作系统故障的潜在风险。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/22/8eb1959dbe62396ba9b5913f0f2d36dd.png" src="https://cdnfile.sspai.com/2024/07/22/8eb1959dbe62396ba9b5913f0f2d36dd.png"/&gt;&lt;/figure&gt;&lt;p&gt;那么你肯定会觉得疑惑，CrowdStrike 是如何让他们客户的 Windows 电脑全部蓝屏宕机的呢？&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/22/article/c004cbc8fb0836f2b4d6412b6dd474a2.png" sizes="100vw" src="https://cdnfile.sspai.com/2024/07/22/article/c004cbc8fb0836f2b4d6412b6dd474a2.png" srcset="https://www.crowdstrike.com/wp-content/uploads/2024/07/Falcon-on-white.png 1060w, https://www.crowdstrike.com/wp-content/uploads/2024/07/Falcon-on-white-300x198.png 300w, https://www.crowdstrike.com/wp-content/uploads/2024/07/Falcon-on-white-1024x674.png 1024w, https://www.crowdstrike.com/wp-content/uploads/2024/07/Falcon-on-white-768x506.png 768w" width="1060"/&gt;&lt;/figure&gt;&lt;p&gt;根据目前的&lt;a href="https://www.crowdstrike.com/blog/falcon-update-for-windows-hosts-technical-details/" target="_blank"&gt;最新情况&lt;/a&gt;来看，CrowdStrike 在安全配置文件上缺乏完善地测试，没有严格进行环境测试和代码审查，导致存在 Bug 的更新包未经过充分测试就被直接部署到生产环境；CrowdStrike 也缺乏应急回滚机制，在出现了蓝屏问题以后不能及时撤销新推送的安全配置文件；最后不少领域的机构用户没有冗余备份，单一节点故障就导致业务停摆。多个原因叠加就导致了这样不亚于蠕虫病毒攻击的大范围 IT 故障。&lt;/p&gt;&lt;h2&gt;始作俑者 CrowdStrike&lt;/h2&gt;&lt;p&gt;CrowdStrike 暴露的问题远不止 Windows 上的问题，今年四月 CrowdStrike 的一次安全更新导致部署其服务的 Debian Linux 和 Rocky Linux 服务器无法启动，经调查后发现是 CrowdStrike 与最新的 Debian 版本不兼容。&lt;/p&gt;&lt;p&gt;同时，CrowdStrike 在 Linux 事件故障响应上也备受批评，在故障发生一天后才承认故障本身，在后续更为漫长的调查后才发现问题在测试上——CrowdStrike 的测试系统矩阵中根本没有包含最新版 Debian Linux 的配置。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/22/13548eb268ee94d48425be5de45e051b.png" src="https://cdnfile.sspai.com/2024/07/22/13548eb268ee94d48425be5de45e051b.png"/&gt;&lt;figcaption&gt;当时 Rocky Linux 论坛中的记录&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;而在深入挖掘 CrowdStrike 的发展史后，其实也不难发现，安全软件导致系统崩溃这件事上，其创始人可能是个「惯犯」。&lt;/p&gt;&lt;p&gt;CrowdStrike 成立于 2011 年，其创始人 George Kurtz 此前是计算机安全软件 McAfee 的首席技术官。在他任上，McAfee 也出过类似的事故——杀毒软件将 svchost.exe 识别成恶意程序从而错将其删除，最终导致大量的 Windows XP SP3 循环重启并无法上网。正是因为那次事故，导致很多 PC 用户至今仍认为给系统安装安全软件反而会电脑「不稳定」。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/22/0dd588e8821fcae49c12cf7cf3db7f8d.png" src="https://cdnfile.sspai.com/2024/07/22/0dd588e8821fcae49c12cf7cf3db7f8d.png"/&gt;&lt;figcaption&gt;早些年 McAfee 的类似事故&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;George Kurtz 曾解释到，创建 CrowdStrike 的契机来源于一次坐航班时，隔壁乘客足足等了 15 分钟，才让 McAfee 软件在自己的笔记本电脑上完全启动。这让他觉得需要创办一家基于云的数据安全公司。&lt;/p&gt;&lt;p&gt;CrowdStrike 主要面向企业提供基于云的一揽子企业安全解决方案。这次导致大面积 Windows 蓝屏宕机的是旗下名为 Falcon 的工具，该工具通过识别异常行为和漏洞来保护计算机系统免受恶意软件等威胁。CrowdStrike 表示自 2011 年成立以来，CrowdStrike 已帮助调查了多起重大网络攻击，并称拥有「最快的平均时间」来检测威胁。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/22/a06340bbac75b09a4d5bbc54881c6b6e.png" src="https://cdnfile.sspai.com/2024/07/22/a06340bbac75b09a4d5bbc54881c6b6e.png"/&gt;&lt;figcaption&gt;相关宣传内容&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;CrowdStrike 的服务范围不在国内，因此国内大部分的机构和个人电脑也并未受到本次 Windows 蓝屏宕机的影响。&lt;/p&gt;&lt;h2&gt;如何正确的看待本次事件&lt;/h2&gt;&lt;p&gt;2024 年 7 月 20 日，微软和 CrowdStrike 公布了最新的调查结果和解决方案。微软确定了一个影响 Windows 设备运行的 CrowdStrike Falcon 问题，包括蓝屏错误信息 0x50 和 0x7E，设备会处于反复重启状态。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/22/cb483d19f14d1f9b7da467a5bf34e9cc.png" src="https://cdnfile.sspai.com/2024/07/22/cb483d19f14d1f9b7da467a5bf34e9cc.png"/&gt;&lt;figcaption&gt;微软也在第一时间发布了相关内容&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;想要解决这个问题，IT 工程师需要重启并进入安全模式，删除相关目录下名为 &lt;code&gt;C-00000291*.sys&lt;/code&gt; 的文件，再次重启系统即可恢复正常。由于宕机导致设备无法远程访问，这样的恢复操作只能由 IT 工程师在线下手动进行。不过，云服务器中的 Windows 电脑没有安全模式，IT 工程师需要挨个手动连接到虚拟硬盘再删除。&lt;/p&gt;&lt;p&gt;与此同时，CrowdStrike 也将更新回滚，避免重现故障，至此这次事件暂时告一段落。微软提供了专门的&lt;a href="https://techcommunity.microsoft.com/t5/intune-customer-success/new-recovery-tool-to-help-with-crowdstrike-issue-impacting/ba-p/4196959" target="_blank"&gt;修复工具&lt;/a&gt;，辅助 IT 工程师通过 Windows PE 环境&lt;sup&gt;1&lt;/sup&gt;，自动删除有问题的 CrowdStrike 文件来让机器正常启动；CrowdStrike 则提供了一份新的&lt;a href="https://www.crowdstrike.com/falcon-content-update-remediation-and-guidance-hub/" target="_blank"&gt;帮助文档&lt;/a&gt;，来辅助 IT 工程师修复电脑；CrowdStrike 还提醒道，有新的恶意程序在以「crowdstrike-hotfix.zip」（crowdstrike 问题修复补丁）的名义在互联网上传播。&lt;/p&gt;&lt;p&gt;虽然事件暂时告一段落，但我们需要客观和理性地看待这次事件。在事件刚发生时，很多媒体在没有彻底了解事情缘由的情况下，断然认为这是因为微软 Windows 操作系统本身存在问题，并借机无脑炒作，使得本来单纯的事件复杂化。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/22/43761e6f40bc5926cbefdfb163fa9c52.png" src="https://cdnfile.sspai.com/2024/07/22/43761e6f40bc5926cbefdfb163fa9c52.png"/&gt;&lt;figcaption&gt;在隐私模式下用关键词搜索这次事件时，不少「流量党」借机炒作&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;事实上，始作俑者 CrowdStrike 主要面向企业提供服务，因此受到影响的主要是企业用户，对于一般用户几乎没有影响。微软估计，受到此次蓝屏宕机事件影响的 Windows 电脑可能有 850 万台大概占总数的 1%。&lt;/p&gt;&lt;p&gt;由于受影响的主要是服务业等「窗口行业」，在舆论传播时，故障的严重程度被无形放大。国内大多数的 Windows 用户都平安无事，没有使用 CrowdStrike 的企业电脑也没有受到影响。因此，单就 Windows 操作系统本身而言，依旧是可靠且值得信赖的。&lt;/p&gt;&lt;p&gt;这次事件确实对安全厂商的形象造成了一定损害，CrowdStrike 在软件开发和测试过程中存在的重大漏洞是导致此次全球 Windows 蓝屏宕机的根源。提醒安全厂商需要在频繁的安全更新与充分的测试之间需要找到一个平衡点，在增强安全同时，减少风险和不确定性。&lt;/p&gt;&lt;p&gt;这次事件后，CrowdStrike 作为安全软件的侵入性也被不少人所诟病，突显了高权限防病毒和 EDR（端点检测与响应）解决方案的潜在风险和不足。有网友认为：「为了避免类似问题的再次发生，重新设计防病毒和 EDR 解决方案，降低其对高权限的依赖，显得尤为重要」。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/23/dd65c6b0cc72115429ba7fbac39d9149.png" src="https://cdnfile.sspai.com/2024/07/23/dd65c6b0cc72115429ba7fbac39d9149.png"/&gt;&lt;/figure&gt;&lt;p&gt;当下，设计防病毒更成熟的解决方案则是采用 eBPF。eBPF 是一个内核里的虚拟机，允许开发者在不修改内核源代码或加载内核模块的情况下，在内核中安全地运行用户定义的代码。&lt;/p&gt;&lt;p&gt;这个特性使得 eBPF 成为一个强大的监控和过滤工具，基于 eBPF 的工具也不会让内核崩溃。目前微软正在全力开发 Windows 版本的 &lt;a href="https://github.com/microsoft/ebpf-for-windows" target="_blank"&gt;eBPF&lt;/a&gt;，相信未来 Windows 上安全软件也可以移植到 eBPF 上，更安全的同时也能显著减少这次蓝屏事件的发生。&lt;/p&gt;&lt;p&gt;当然，我们一般用户也不能因为此次事件就「一朝被蛇咬，十年怕井绳」，让自己的电脑「裸奔」。毕竟此次 Windows 大面积蓝屏宕机只是偶发事件，且主要影响的是企业客户。但如果因为没有安装安全软件或者关闭安全软件而导致个人资料被加密勒索或泄漏，得不偿失。&lt;/p&gt;&lt;p&gt;&amp;gt; 了解更多 WWDC24 最新资讯及动态，欢迎关注《&lt;a href="https://sspai.com/topic/453" target="_blank"&gt;少数派带你看 WWDC24&lt;/a&gt;》系列专题。&lt;/p&gt;&lt;p&gt;&amp;gt; 实用、好用的 &lt;a href="https://sspai.com/mall" target="_blank"&gt;正版软件&lt;/a&gt;，少数派为你呈现 🚀&lt;/p&gt;&lt;/div&gt;</description><author>化学心情下2</author><guid>https://sspai.com/post/90673</guid><pubDate>Tue, 23 Jul 2024 07:00:00 GMT</pubDate></item><item><title>一日一技 | 使用 Docker 为 iCloud 照片生成本地备份</title><link>https://sspai.com/post/90641</link><description>&lt;div&gt;&lt;p&gt;&lt;strong&gt;Matrix 首页推荐&lt;/strong&gt; &lt;/p&gt;&lt;p&gt;&lt;a href="https://sspai.com/matrix" target="_blank"&gt;Matrix&lt;/a&gt; 是少数派的写作社区，我们主张分享真实的产品体验，有实用价值的经验与思考。我们会不定期挑选 Matrix 最优质的文章，展示来自用户的最真实的体验和观点。&lt;/p&gt;&lt;p&gt;文章代表作者个人观点，少数派仅对标题和排版略作修改。&lt;/p&gt;&lt;hr/&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/19/3efed8d45f137b73b9d173542e0e248b.png" src="https://cdnfile.sspai.com/2024/07/19/3efed8d45f137b73b9d173542e0e248b.png"/&gt;&lt;/figure&gt;&lt;p&gt;由于家人的照片视频太多，我目前开了 2TB 的 iCloud 套餐。在开 iCloud 套餐之前我尝试过使用 QNAP 的 Photo 应用，但是终究没有 iCloud 方便——原图上传 iCloud，手机保留缩略图，随时可以点开来看太香了，缺点就是有点贵。&lt;/p&gt;&lt;p&gt;接下来这套方案在日常使用没什么问题，但最好本地可以备份一份原图。一来可以避免苹果服务器宕机（这种可能性很低），二来未来有更经济的方案可以随时进行迁移，三来也是为了照片的安全。&lt;/p&gt;&lt;p&gt;本方案需要使用到 Docker 服务，我自己是部署在 QNAP 的 NAS 上面的，所以接下来我会以 QNAP 来打样。如果你有群晖、树莓派、闲置的电脑理论上都是可行的。&lt;/p&gt;&lt;h2&gt;前置准备工作&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;关闭 iCloud 账户的 ADP 功能（高级数据保护）。开启这个功能会限制使用 iCloud 网页，导致无法实现方案中备份效果，如果你非常重视端到端加密等措施，不愿意关闭此功能就此打住不用折腾了。关闭这个功能后可能需要等待一周左右的时间，才会生效，因为苹果服务器需要时间去解密数据。&lt;/li&gt;&lt;li&gt;创建一个名为「.mounted」的隐藏文件，以下简称「挂载文本」。你可以先创建一个名为「.mounted.txt」的文本文件，然后删除掉后缀名，就是一个 0kb 的文件。&lt;/li&gt;&lt;li&gt;安装好 Docker 服务并且确保可以运行。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;正式安装&lt;/h2&gt;&lt;h3&gt;创建文件夹（假设登录的用户名：张三）&lt;/h3&gt;&lt;p&gt;创建用于储存配置文件的文件夹 config，存放位置与名称随意。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/19/9bb2747008c38416eaf827a88b90f51a.png" src="https://cdnfile.sspai.com/2024/07/19/9bb2747008c38416eaf827a88b90f51a.png"/&gt;&lt;figcaption&gt;config文件夹位置&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;创建用于储存照片的文件夹 iCloud，存放位置与名称随意。我是在一个硬盘的根目录下直接创建的。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/19/303640afcc8f4480829a1a369375f845.png" src="https://cdnfile.sspai.com/2024/07/19/303640afcc8f4480829a1a369375f845.png"/&gt;&lt;figcaption&gt;储存照片的文件夹&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;将「挂载文本」移入 iCloud 文件夹内。&lt;/p&gt;&lt;h3&gt;创建容器&lt;/h3&gt;&lt;p&gt;由于 Docker 服务器被屏蔽，所以大家可能比较难获取&lt;code&gt;boredazfcuk/icloudpd&lt;/code&gt;的 Docker 镜像。假设你已经使用电脑端的 DockerDesktop 获取到了镜像并导出了，那接下来可以进行 QNAP 的镜像导入。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;镜像导入&lt;/strong&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/19/d8398ffc94749ab95c9b78527b6ee326.png" src="https://cdnfile.sspai.com/2024/07/19/d8398ffc94749ab95c9b78527b6ee326.png"/&gt;&lt;figcaption&gt;镜像导入路径&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/19/d05461315f4bdcd7b0c61cc1a4a40696.png" src="https://cdnfile.sspai.com/2024/07/19/d05461315f4bdcd7b0c61cc1a4a40696.png"/&gt;&lt;figcaption&gt;导入状态&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;生成容器&lt;/strong&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/19/2be884d3d3e059e56833a39ea77d27fa.png" src="https://cdnfile.sspai.com/2024/07/19/2be884d3d3e059e56833a39ea77d27fa.png"/&gt;&lt;figcaption&gt;点击红框创建&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/19/51ce4212bbbc3e1e7e928c912251d7cf.png" src="https://cdnfile.sspai.com/2024/07/19/51ce4212bbbc3e1e7e928c912251d7cf.png"/&gt;&lt;figcaption&gt;填写名称且进行高级设置&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/19/14f2681da2b7e095242d0f2bafa6099e.png" src="https://cdnfile.sspai.com/2024/07/19/14f2681da2b7e095242d0f2bafa6099e.png"/&gt;&lt;figcaption&gt;修改环境变量&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/19/40220d171311a3a8ec34b493fe63b776.png" src="https://cdnfile.sspai.com/2024/07/19/40220d171311a3a8ec34b493fe63b776.png"/&gt;&lt;figcaption&gt;删除原来的设置&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/19/52fb6c699a48b696dc8c98ee5b2a58be.png" src="https://cdnfile.sspai.com/2024/07/19/52fb6c699a48b696dc8c98ee5b2a58be.png"/&gt;&lt;figcaption&gt;重新选择路径&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/19/fb57bbc4bb93e2f57e7630a2951233c3.png" src="https://cdnfile.sspai.com/2024/07/19/fb57bbc4bb93e2f57e7630a2951233c3.png"/&gt;&lt;figcaption&gt;重新挂在储存&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;点击创建运行，等待十几秒中中停止运行。此时，为 QNAP 指定的 config 文件夹会出现一个「icloudpd.conf」，接下来我们就开始进行设置。&lt;/p&gt;&lt;h2&gt;选项的配置与解析&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;icloudpd.conf 的配置&lt;/strong&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/20/ecbb7a5543ab98649227bec8c72928ee.png" src="https://cdnfile.sspai.com/2024/07/20/ecbb7a5543ab98649227bec8c72928ee.png"/&gt;&lt;figcaption&gt;上&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/20/5de4bbb05d4500cb7d589089afe3d4bf.png" src="https://cdnfile.sspai.com/2024/07/20/5de4bbb05d4500cb7d589089afe3d4bf.png"/&gt;&lt;figcaption&gt;中&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/20/8b0fb91e983e6d504daaa7b9dc340d89.png" src="https://cdnfile.sspai.com/2024/07/20/8b0fb91e983e6d504daaa7b9dc340d89.png"/&gt;&lt;figcaption&gt;下&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;user_id 与 group_id 的确认&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;此时使用「张三」需要登陆 QNAP 的 ssh，然后输入 `id`，就会显示这两个 id 值。它们会用来解决后面可能遇到的权限问题，非常重要！&lt;/p&gt;&lt;p&gt;至此保存 icloudpd.conf 文件。只要接下来初始化就可以使用了。&lt;/p&gt;&lt;h2&gt;初始化&lt;/h2&gt;&lt;h3&gt;进入容器的命令窗口&lt;/h3&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/20/c0f158eaef97e8091c1e8b9825c0ebdf.png" src="https://cdnfile.sspai.com/2024/07/20/c0f158eaef97e8091c1e8b9825c0ebdf.png"/&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/20/a7e4d29fe985bea1909e34e3be6a7a35.png" src="https://cdnfile.sspai.com/2024/07/20/a7e4d29fe985bea1909e34e3be6a7a35.png"/&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/20/8b8bb0538cc61edb5e289b0be153595b.png" src="https://cdnfile.sspai.com/2024/07/20/8b8bb0538cc61edb5e289b0be153595b.png"/&gt;&lt;/figure&gt;&lt;p&gt;  输入初始化代码：&lt;code&gt;sync-icloud.sh --Initialize&lt;/code&gt;&lt;/p&gt;&lt;h3&gt;进行两次验证登录并写入本地密码文件&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;保存密码到 keyring 文件&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;刚开始需要等待两分钟检查更新，然后会询问是否写入 keyring 文件，此时选择「yes」。随后开始要求输入 Apple ID 的密码，界面是没有显示的，输入完成后回车确认即可。等待一会应该会要求进行验证码验证。这个登录的过程会持续两次。&lt;/p&gt;&lt;h2&gt;问题排错&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;ERROR：&lt;/strong&gt;invalid value for &amp;#x27;-d&amp;#x27; / &amp;#x27;--directory&amp;#x27;: path &amp;#x27;/icloud&amp;#x27; is not readable&lt;/p&gt;&lt;p&gt;权限问题，处理方案有两种：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;进入容器的执行界面，如何进入可以参考上文。然后运行`chmod 777 /iCloud`；&lt;/li&gt;&lt;li&gt;在之前的 conf 文件中设置好对应的「张三」的 id 和 group_id 后，确保张三对 QNAP 文件夹有权限写入&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;ERROR：&lt;/strong&gt;keyring file does not exist. please try again&lt;/p&gt;&lt;ul&gt;&lt;li&gt;第一次启动就设置「true」导致的，先暂停容器，设置&lt;code&gt;auth_china=true&lt;/code&gt;和&lt;code&gt;icloud_china=true&lt;/code&gt;两个变量后再启动。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;成功开始备份&lt;/h2&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/20/60b6ba0a55f026e92691f42d89432ac0.png" src="https://cdnfile.sspai.com/2024/07/20/60b6ba0a55f026e92691f42d89432ac0.png"/&gt;&lt;figcaption&gt;成功备份&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&amp;gt; 关注 &lt;a href="https://www.xiaohongshu.com/user/profile/63f5d65d000000001001d8d4" target="_blank"&gt;少数派小红书&lt;/a&gt;，感受精彩数字生活 🍃&lt;/p&gt;&lt;p&gt;&amp;gt; 实用、好用的 &lt;a href="https://sspai.com/mall" target="_blank"&gt;正版软件&lt;/a&gt;，少数派为你呈现 🚀&lt;/p&gt;&lt;/div&gt;</description><author>Geekcat</author><guid>https://sspai.com/post/90641</guid><pubDate>Tue, 23 Jul 2024 03:33:19 GMT</pubDate></item><item><title>WPS 与豆包否认 AI 层面任何形式合作</title><link>https://sspai.com/post/90712</link><description>&lt;p&gt;针对此前有网友发文称「WPS 改版了用我们的文章喂给 AI 了」，WPS 于 7 月 21 日回应，表示该问题完全失实，WPS 强调所有用户的文档不会被用于任何 AI 训练目的，也不会在未经用户同意的情况下用于任何场景。另外 WPS AI 与豆包在 AI 层面目前并未开展任何形式的合作。&lt;/p&gt;&lt;p&gt;字节跳动针对此问题也表示，目前豆包上显示的部分书目信息也来源于网络公开信息，豆包会给出相关的网站信息。同时豆包正在积极探索如何在人们的生活和工作中起到更多帮助。在此过程中字节跳动会始终尊重用户的信息安全，并将尽最大努力，确保数据来源与使用的安全性。&lt;a href="https://www.ithome.com/0/783/251.htm" target="_blank"&gt;来源&lt;/a&gt;&lt;/p&gt;&lt;h3&gt;国家新闻出版署公示 2024 年 7 月国产网络游戏审批信息&lt;/h3&gt;&lt;p&gt;7 月 22 日，国家新闻出版署公示 2024 年 7 月国产网络游戏审批信息。本次共 105 款游戏过审，包括客户端游戏《暗区突围：无限》、移动端《暗之回响》、移动端《鬼谷八荒》、移动与网页端《三国杀：一将成名》等。完整名单见来源链接。&lt;a href="https://www.nppa.gov.cn/bsfw/jggs/yxspjg/gcwlyxspxx/202407/t20240722_856026.html" target="_blank"&gt;来源&lt;/a&gt;&lt;/p&gt;&lt;h3&gt;微软称欧盟规定使其无法令 Windows 免受本次事件波及&lt;/h3&gt;&lt;p&gt;据 Techradar 引述华尔街日报，微软发言人就本次 CrowdStrike 更新导致大范围蓝屏事件表示，一则与欧盟委员会 2009 年达成的协议使得公司无法更严格地增强其系统安全性。协议要求微软为安全软件开发者提供与微软等同的系统访问权限，必须与它们共享其用于 Windows 客户版与服务器版操作系统的 API。与之相对地，Apple 自 2020 年后限制开发者对操作系统进行内核级访问；Google 同样不受该规则约束。&lt;a href="https://www.techradar.com/pro/security/microsoft-blames-eu-rules-for-its-inability-to-lock-down-windows-following-crowdstrike-incident" target="_blank"&gt;来源&lt;/a&gt;&lt;/p&gt;&lt;h3&gt;Intel 推出第 14 代酷睿 E 系列嵌入式处理器&lt;/h3&gt;&lt;p&gt;Intel 于 7 月 21 日发布了一批新的第 14 代酷睿 Raptor Lake Refresh 处理器，处理器命名都包含 E 后缀，即面向嵌入式场景，并且名称最后一位数字都是 1，即采用纯 P-Core 设计，包括三款酷睿 i9、两款酷睿 i7和四款酷睿 i5，其中酷睿 i9 和酷睿 i7 的核心数量是完全一样的，只有 L3 缓存容量和频率存在差异，另外最低端的酷睿 i5-14401TEF 没有配备核显，TDP 为 45W。这些第 14 代酷睿嵌入式处理器和常规产品一样采用 LGA 1700 接口，拥有相同的 I/O，配备 16 条 PCIe 5.0 通道，4 条 PCIe 4.0 通道，采用 DMI 4.0 ×8 总线与 PCH 相连，支持双通道 DDR4 和 DDR5 内存。&lt;a href="https://www.expreview.com/94917.html" target="_blank"&gt;来源&lt;/a&gt;&lt;/p&gt;&lt;h3&gt;《异形：夺命舰》定档 8 月 16 日&lt;/h3&gt;&lt;p&gt;7 月 22 日消息，时间线定于 1979 年第一部与 1986 年第二部的《异形》系列新作《异形：夺命舰》定档 8 月 16 日，与北美同步上映。&lt;/p&gt;&lt;figure&gt;&lt;img alt="WGJUb4u0KoLDfsxRY0LcNWfwnTf" data-original="https://cdnfile.sspai.com/editor/u_/cqf94b5b34tebih068dg.png" src="https://cdnfile.sspai.com/editor/u_/cqf94b5b34tebih068dg.png"/&gt;&lt;/figure&gt;&lt;h2&gt;看看就行的小道消息&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Android Authority 于 7 月 21 日发布了若干 Oura Ring 4 的照片，并称其已在认证过程中。Oura Ring 上次更新在 2021 年。曝光信息中出现 OA11 与 OA12 两个产品型号，还提及样图中的型号是金色/15 码。&lt;a href="https://www.androidauthority.com/oura-ring-4-first-look-3463096/" target="_blank"&gt;来源&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;figure&gt;&lt;img alt="QcMZb7scyoMRiPxXmYYctRqZnzh" data-original="https://cdnfile.sspai.com/editor/u_/cqf94bdb34tebf0dr2rg.png" src="https://cdnfile.sspai.com/editor/u_/cqf94bdb34tebf0dr2rg.png"/&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt;爆料人 Yogesh Brar 在 7 月 22 日在 X 上爆料了即将发布的骁龙 7s Gen 3 的规格。其中 Adreno 810 的 GPU 型号可能预示着高通将改变 GPU 命名规则。与之对比，骁龙 8 Gen 3 采用的 GPU 为 Adreno 750。&lt;a href="https://x.com/heyitsyogesh/status/1815286935520235619" target="_blank"&gt;来源&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;figure&gt;&lt;img alt="G1ZpbX3Umotaidx7Rb5cLMCPn8d" data-original="https://cdnfile.sspai.com/editor/u_/cqf94bdb34teberfil4g.png" src="https://cdnfile.sspai.com/editor/u_/cqf94bdb34teberfil4g.png"/&gt;&lt;/figure&gt;&lt;h2&gt;少数派的近期动态&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;少数派正版软件 &lt;a href="https://sspai.com/mall/discount/13" target="_blank"&gt;7 月特惠&lt;/a&gt;限时开启，&lt;a href="https://sspai.com/item/25" target="_blank"&gt;Microsoft 365 工具升值包&lt;/a&gt;入手好时机。&lt;/li&gt;&lt;li&gt;为庆祝少数派会员走入第四年，从 2024 年 7 月 17 日至 8 月 16 日，现有年度会员续费可享受 178 元起的优惠价格，第一季老会员可继续享受 128 元起的创始会员价格（不含点数方案，含点数方案分别为 198 元和 258 元）。和以往一样，这将是会员促销的全年最低价格。如果你想加入少数派会员，这是最好的时机。&lt;a href="https://sspai.com/prime/explore" target="_blank"&gt;&lt;strong&gt;前往了解&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;&lt;li&gt;新付费栏目：我们集结了少数派 Prime 会员内容中与外设相关的文章，并做了检查、更新和补充，制作了这份《外设玩家》，话题涵盖键鼠的进阶用法、键鼠的定制化风潮、更少见的键鼠设备介绍等。 罗技游戏鼠标最复杂也最自由功能—— Lua 脚本如何制作？「gasket 结构」键盘是真有货还是假营销？如何手搓一个 QMK 固件？分体键盘应该如何上手？或许从这里开始，你也能在键盘鼠标里找到属于自己的乐趣。上架首月限时 7 折优惠，或加入数派年度会员即可免费畅读。&lt;a href="https://sspai.com/series/374" target="_blank"&gt;前往了解&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;你可能错过的文章&lt;/h2&gt;&lt;p&gt;&amp;gt; 下载 &lt;a href="https://sspai.com/page/client" target="_blank"&gt;少数派 2.0 客户端&lt;/a&gt;、关注 &lt;a href="https://sspai.com/s/J71e" target="_blank"&gt;少数派公众号&lt;/a&gt;，解锁全新阅读体验 📰&lt;/p&gt;&lt;p&gt;&amp;gt; 实用、好用的 &lt;a href="https://sspai.com/mall" target="_blank"&gt;正版软件&lt;/a&gt;，少数派为你呈现 🚀&lt;/p&gt;</description><author>少数派编辑部</author><guid>https://sspai.com/post/90712</guid><pubDate>Tue, 23 Jul 2024 00:00:00 GMT</pubDate></item><item><title>派评 | 近期值得关注的 App</title><link>https://sspai.com/post/90709</link><description>&lt;div&gt;&lt;p&gt;欢迎收看本期《派评》。你可以通过文章目录快速跳转到你感兴趣的内容。如果发现了其它感兴趣的 App 或者关注的话题，也欢迎在评论区和我们进行讨论。&lt;/p&gt;&lt;h2&gt;值得关注的新 App&lt;/h2&gt;&lt;p&gt;虽然少数派一直在为大家发现和介绍各平台上的优质 App，但仍有不少设计、功能、交互、体验都非常优秀的 App，还没有被我们发掘和介绍。它们可能是一款老 App，也可能是近期上架的新 App，我们会在这里介绍给你。&lt;/p&gt;&lt;h3&gt;NotchDrop：Mac 「刘海」小工具&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;平台：macOS&lt;/li&gt;&lt;li&gt;关键词：刘海、文件暂存&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;a href="https://sspai.com/u/914r3btn" target="_blank"&gt;@ElijahLee&lt;/a&gt;：自 2021 款 MacBook Pro 发售至今已经过去快 3 年了，当时这款 MacBook Pro 在外形上面的最大变化——屏幕刘海——放到现在似乎已经很少有人讨论了。与之相应的是，相比于各种 App 在 iPhone 的刘海和灵动岛上玩花样，MacBook Pro 的刘海却是平淡无奇。&lt;/p&gt;&lt;p&gt;现在要介绍的 NotchDrop（挪翅丢），是我用过的第一款在 MacBook Pro 刘海上创新交互的 App。更让我意外的是，它竟然是文件暂存工具。&lt;/p&gt;&lt;figure&gt;&lt;img alt="TienbdzjpoFuTjxUhjXc8Y5Kntd" data-original="https://cdnfile.sspai.com/editor/u_/cqf362tb34teberfikeg.png" src="https://cdnfile.sspai.com/editor/u_/cqf362tb34teberfikeg.png"/&gt;&lt;/figure&gt;&lt;p&gt;MacBook Pro 的刘海区域在屏幕上是可交互的，也就是说，当我们把光标在菜单栏移动时，光标会进入刘海，并从另一侧出现。安装好 NotchDrop 打开后，当我们把光标移动到刘海边沿，整个刘海会在屏幕上扩大一圈并叠加上阴影显示，同时 MacBook Pro 的触控板也会轻轻震动，这一切都向用户提示这里「有点东西」。&lt;/p&gt;&lt;p&gt;使用 NotchDrop 实现文件暂存非常简单，我们将文稿拖动到刘海中去，NotchDrop 会自动展开成完整形态，在虚线框的暂存区域释放文稿，就可以将它存储在 NotchDrop。它的动画效果非常流畅丝滑，整个刘海会从边沿拓展并放大开来，待文件存好后，NotchDrop 会自动收起。&lt;/p&gt;&lt;p&gt;NotchDrop 支持将文件暂存 1 天，时间到后自动删除。我们也可以按住 Option 键，再点击 x 图标将其手动删除。NotchDrop 还集成了隔空投送，将暂存区中的文稿拖动到左侧的「隔空投送」区域并释放，应用会自动打开 macOS 的隔空投送窗口。NotchDrop 还兼容主流的菜单栏管理工具，包括 Bartender 等等，两者互相不会影响。&lt;/p&gt;&lt;p&gt;你可以在 &lt;a href="https://github.com/Lakr233/NotchDrop/blob/main/Resources/i18n/zh-Hans/README.md" target="_blank"&gt;GitHub&lt;/a&gt; 下载 NotchDrop。&lt;/p&gt;&lt;h3&gt;PhoneProfilesPlus：让任意设备都能拥有自动化场景&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;平台：Android&lt;/li&gt;&lt;li&gt;关键词：自动化&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;a href="https://sspai.com/u/69zxdqx8" target="_blank"&gt;@Noah_Choi&lt;/a&gt;：现在几乎所有品牌的手机都会在系统中内置一套场景自动化设置，比如 iOS 的捷径、三星的日常程序等等，这些功能极大程度简化了我们应对不同场合的手机使用需求。而对于一些使用 AOSP 系统的手机，或者当作备用机的老设备来说，我们还是需要借助第三方 App 来实现这一功能，例如这款 PhoneProfilesPlus（以下简称 PPP）。&lt;/p&gt;&lt;figure&gt;&lt;img alt="K57GbDpCqoasdlxTb5rcxQo4nec" data-original="https://cdnfile.sspai.com/editor/u_/cqf3635b34tebctirkg0.png" src="https://cdnfile.sspai.com/editor/u_/cqf3635b34tebctirkg0.png"/&gt;&lt;/figure&gt;&lt;p&gt;PPP 的运行原理同样是通过某些触发条件来执行后续一系列操作。其中「情景」就是一系列操作的合集，例如使用「工作」情景时会打开震动、开启 WiFi；「睡眠」情景下激活电池省电、开启勿扰模式等等。这些相对都是比较常规的设置项，PPP 中的功能基本也都可以满足我们日常生活的使用需求。&lt;/p&gt;&lt;figure&gt;&lt;img alt="O8uRbR0KWopHNrxYlPtcG7cjn8e" data-original="https://cdnfile.sspai.com/editor/u_/cqf363db34tebih067q0.png" src="https://cdnfile.sspai.com/editor/u_/cqf363db34tebih067q0.png"/&gt;&lt;/figure&gt;&lt;p&gt;PPP 中的「情景」可以通过手动开启，但要想获得更方便的使用体验，那就要通过「事件」来设定自动化的触发条件。而 PPP 中的各种触发条件非常丰富，除了常见的包括时间、日期、位置等，还有一些更复杂的触发条件，例如移动基站信息、通知内容、媒体播放、呼叫状态等等，如果你善于研究，那么一定可以通过这些条件创造出各种高级的玩法。&lt;/p&gt;&lt;figure&gt;&lt;img alt="O3INbKMUboAs2oxv6rzcUIXSnif" data-original="https://cdnfile.sspai.com/editor/u_/cqf363db34teberfikf0.png" src="https://cdnfile.sspai.com/editor/u_/cqf363db34teberfikf0.png"/&gt;&lt;/figure&gt;&lt;p&gt;除此之外，PPP 还有一个扩展插件名为 PhoneProfilesPlus Extender（简称 PPPE）。它将会以外挂形式辅助获取一些系统权限并扩展 PPP 的条件参数。而作为一款涉及到系统功能和隐私数据的 App，PPP 完全开源免费，所以在安全性相对会透明一些。如果你想要体验一下，可以在 &lt;a href="https://github.com/henrichg/PhoneProfilesPlus" target="_blank"&gt;GitHub&lt;/a&gt;、&lt;a href="https://apt.izzysoft.de/fdroid/index/apk/sk.henrichg.phoneprofilesplus" target="_blank"&gt;IzzyOnDroid&lt;/a&gt; 免费下载 PPP。&lt;/p&gt;&lt;h3&gt;UTM SE：iOS 首个虚拟机工具上架&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;平台：iOS / iPadOS&lt;/li&gt;&lt;li&gt;关键词：虚拟机&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;a href="https://sspai.com/u/liuxiaofengone" target="_blank"&gt;@化学心情下2&lt;/a&gt;：随着 Delta、PPSSPP 等一众游戏模拟器成功上架 App Store 之后，经过一个多月时间的周旋与处理，老牌虚拟化工具 UTM SE 也顺利成为了第一款名正言顺在 App Store 上架的虚拟机工具。&lt;/p&gt;&lt;p&gt;UTM SE 可以看作是为 iOS / iPadOS 平台定制的轻量化的虚拟机软件，面向 macOS 的则是功能全面的 UTM，并且其功能完全不亚于那些商用的虚拟化软件，尤其是桌面端的 UTM 还支持硬件虚拟化，因此虚拟化性能上还是相当不错的，对于无法进行硬件虚拟化的平台，还可以通过 qemu 实现跨架构的软件虚拟，虽然性能上差一点，但至少运行是没问题的。&lt;/p&gt;&lt;p&gt;当然，由于 Apple 并没有开放 iOS /iPadOS 的硬件虚拟化功能，因此这一次上架 App Store 的 UTM SE 其实是一个阉割版本，加上完全去除掉了 JIT 功能（App Store 对于上架软件的要求），因此 UTM SE 主要依赖了 qemu 实现软件虚拟化，性能上自然和 Mac 上的 UTM 有不小的差距。&lt;/p&gt;&lt;figure&gt;&lt;img alt="AFw9bcnbXoe4Abx3mOJc0z0Wneh" data-original="https://cdnfile.sspai.com/editor/u_/cqf363lb34teberfikfg.png" src="https://cdnfile.sspai.com/editor/u_/cqf363lb34teberfikfg.png"/&gt;&lt;/figure&gt;&lt;p&gt;UTM SE 功能非常简单，我理解就是 qemu 的图形化界面，你可以选择直接从 UTM 的官网上下载已经制作好的系统镜像包，也可以下载桌面系统的 ISO 镜像然后一步步创建虚拟机，我这里直接选择了从 UTM 网站上下载已经整合完成的 Debian 10 ARM64 的虚拟镜像包，下载解压缩后导入即可点击开机。&lt;/p&gt;&lt;figure&gt;&lt;img alt="YtAQb7KerobnQVxQ20NcPMUenNd" data-original="https://cdnfile.sspai.com/editor/u_/cqf363tb34tebih067qg.png" src="https://cdnfile.sspai.com/editor/u_/cqf363tb34tebih067qg.png"/&gt;&lt;/figure&gt;&lt;p&gt;由于 iOS / iPadOS 的限制，因此在虚拟化软件中也无法调用 GPU 进行图形加速，所以我选择的是包含 i3 这种最简易的窗口管理器的版本，也因为完全采用软件虚拟，因此开始启动到可以使用 Shell 来进行操作花了近五分钟，我个人是在第十代 iPad 上运行 UTM SE 的，这样的启动速度要用做项目开发或者其它运维功能肯定是完全不可能的，尝鲜倒是可以。&lt;/p&gt;&lt;figure&gt;&lt;img alt="D9zyblbcLoJeTAxcAJlc7BD4nTg" data-original="https://cdnfile.sspai.com/editor/u_/cqf3645b34tebctirkgg.png" src="https://cdnfile.sspai.com/editor/u_/cqf3645b34tebctirkgg.png"/&gt;&lt;/figure&gt;&lt;p&gt;实际上运行到可以使用 Shell 交互后倒是还行，常用命令自然都支持，也可以通过 NAT 的方式共享主机的网路，甚至还可以直接使用命令来更新安装软件。运行在纯 Shell 下时软件也多次告警显示内存不足，可见即便是没有 GUI 的纯 Shell 下，运行虚拟机依旧会消耗大量的运存。&lt;/p&gt;&lt;figure&gt;&lt;img alt="I4OUbHdHeo95C2xq23CcP65fnrb" data-original="https://cdnfile.sspai.com/editor/u_/cqf364db34teberfikg0.png" src="https://cdnfile.sspai.com/editor/u_/cqf364db34teberfikg0.png"/&gt;&lt;/figure&gt;&lt;p&gt;和很多虚拟化软件一样，UTM SE 同样可以对于虚拟机运行进行配置，由于基本上都是基于 qemu，所以你甚至可以直接选择虚拟的指令集和架构，也可以配置是否强制启用多核处理器等等。&lt;/p&gt;&lt;figure&gt;&lt;img alt="FHDbbg634o8ABbxUpk8c5nuNnnd" data-original="https://cdnfile.sspai.com/editor/u_/cqf364lb34tebih067r0.png" src="https://cdnfile.sspai.com/editor/u_/cqf364lb34tebih067r0.png"/&gt;&lt;/figure&gt;&lt;p&gt;总的来说，UTM SE 第一次实现了在 iOS / iPadOS 上通过虚拟化软件运行桌面操作系统，但由于平台以及硬件限制，使得其完全只能通过软件模拟的方式运行，自然性能上就只是「差强人意」了，倒是更适合极客玩家尝鲜，你可以在 &lt;a href="https://apps.apple.com/us/app/utm-se-retro-pc-emulator/id1564628856?l=zh-Hans-CN" target="_blank"&gt;App Store&lt;/a&gt; 中免费下载使用。&lt;/p&gt;&lt;span&gt; &lt;/span&gt;&lt;h3&gt;Timed Silence：不被手机打扰&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;平台：Android&lt;/li&gt;&lt;li&gt;关键词：勿扰模式、震动模式&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;a href="https://sspai.com/u/5isr02uh" target="_blank"&gt;@Peggy_&lt;/a&gt;：几年前经历过两次半夜被电话吵醒后，我就开始了长期让手机处于振动模式当中，好在随着手机系统功能的不断完善，各类个性化模式的自由设定已经能有效避免被打扰。但是究竟何时打开声音、何时完全静音，仅仅交给手机去判断显然有点难度，有没有更好的解决方式呢？今天介绍的 Timed Silence 想要帮你解决这个问题。&lt;/p&gt;&lt;p&gt;Timed Silence 的功能很简单，即帮助你控制手机音量、振动以及是否静音等。应用给出了多个判定条件，例如单纯根据时间调整、结合日历事项调整、根据链接的蓝牙设备调整等。&lt;/p&gt;&lt;figure&gt;&lt;img alt="YAELbHBtKovRckxU3OicvNJTn0g" data-original="https://cdnfile.sspai.com/editor/u_/cqf364tb34tebf0dr240.jpeg" src="https://cdnfile.sspai.com/editor/u_/cqf364tb34tebf0dr240.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;以时间判断为例，假如我们在早上八点到十二点上班期间不希望被手机打扰，那么我们可以进入相应的设置页面，点击添加，标注「工作」，选择你想要的模式，如打开声音、静音、振动，然后设定相应的时间段，那么当来到对应的时间后，应用会协助我们将手机调整到预先选择好的模，应用设定甚至可以具体到周几。&lt;/p&gt;&lt;figure&gt;&lt;img alt="O7Znbu1Avod5qBxTQfFcOlCYn8f" data-original="https://cdnfile.sspai.com/editor/u_/cqf3655b34tebctirkh0.jpeg" src="https://cdnfile.sspai.com/editor/u_/cqf3655b34tebctirkh0.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;再以日历事项为例，假如你希望手机在开会时静音，那么选择相应的日历，当对应的日历有事项提醒时，应用也会将手机设定到相应的模式。如果你希望应用的设定更加细致，那么还可以手动添加关键词，当检测到事项里有特定关键词时，也能结合我们的设定进行状态调整。根据蓝牙判定也很好理解，如果我们希望连接到自己家里的小音箱时保持手机静音，那么在蓝牙列表里选择相应的设备，当手机蓝牙连接时，应用也会进行调整。&lt;/p&gt;&lt;figure&gt;&lt;img alt="AdTQbP3yco6KDixGncRcAIcbnBc" data-original="https://cdnfile.sspai.com/editor/u_/cqf365db34teberfikgg.jpeg" src="https://cdnfile.sspai.com/editor/u_/cqf365db34teberfikgg.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;总的来说，相比于手机自带的勿扰设置，Timed Silence 具备更多的判定方式，并且能够在设置界面让我们定义音量的具体大小，细致程度更高。此外，Timed Silence 的可视化程度做的非常不错，在应用首页我们能借助简单的图表直观看到自己的手机在何时会处于何种状态，有利于我们随时进行调整。&lt;/p&gt;&lt;figure&gt;&lt;img alt="RyrDb1v8DoI2FNxDGgrc4n4HncU" data-original="https://cdnfile.sspai.com/editor/u_/cqf365lb34tebctirkhg.jpeg" src="https://cdnfile.sspai.com/editor/u_/cqf365lb34tebctirkhg.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;你可以通过 &lt;a href="https://f-droid.org/packages/de.felixnuesse.timedsilence/" target="_blank"&gt;F-Droid&lt;/a&gt; 下载体验 Timed Silence。&lt;/p&gt;&lt;h2&gt;不容错过的 App 更新&lt;/h2&gt;&lt;p&gt;除了「新鲜」App，App Store 中的许多老面孔也在不断迭代、更新，增加更多有趣和实用的功能。少数派希望帮你筛选 App Store 中值得关注的 App 动态，让你快速了解 App 和开发者们的最新动态。&lt;/p&gt;&lt;h3&gt;Readwise Reader 更新：全面优化 Ghostreader、高亮显示、EPUB 电子书体验等&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;平台：iOS / iPadOS / macOS / Windows / Web / Android&lt;/li&gt;&lt;li&gt;关键词：稍后读&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;a href="https://sspai.com/u/whoops" target="_blank"&gt;@Vanilla&lt;/a&gt;：经过最近几年的发展，Readwise Reader 已经发展成为了最受欢迎的稍后读工具之一，它在迭代更新中充分融合了用户们的真实需求和当下前沿的技术，为阅读者们带来了一份高效、全面、细致的用户体验。近日，Reader 发布更新，主要针对 Ghostreader、移动端侧边栏、高亮显示、EPUB 电子书等方面进行了进一步的优化，接下来就让我们一起来看看吧。&lt;/p&gt;&lt;p&gt;Reader 在 GPT 类技术面世后不久就加入了相关功能，推出了 Ghostreader 以帮助读者更好地对文本内容进行归纳理解和拓展延伸。在新版本中，Reader 为 Ghostreader 加入了自定义提示语功能，当我们在 Ghostreader 中选择相应的提问选项后，可以为当前提问添加自己的提示语，以此来获得更加个性化的答案。除此之外，Reader 还为每一种提问选项都内置了一个提示语，方便大家直接使用。在移动端中，Reader 也优化了 Ghostreader 的交互逻辑，让其更加方便被调用。&lt;/p&gt;&lt;figure&gt;&lt;img alt="ZhUqbmtFxoFZbEx30vcchJ2bncb" data-original="https://cdnfile.sspai.com/editor/u_/cqf365tb34tebf0dr24g.jpeg" src="https://cdnfile.sspai.com/editor/u_/cqf365tb34tebf0dr24g.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;本次 Reader 针对移动端也进行了 UI 方面的改进，比如说在 RSS 标签页中加入了新的侧边栏，可以展示每一个单独的订阅源以及相应的文件夹，而在 Library 标签页的侧边栏中我们可以看到标签和文档种类，方便我们更加快速地找到自己想要的那个内容文件。&lt;/p&gt;&lt;figure&gt;&lt;img alt="SDW8bmROToCmM5xbbi3cf7dJnzl" data-original="https://cdnfile.sspai.com/editor/u_/cqf3665b34tebctirki0.jpeg" src="https://cdnfile.sspai.com/editor/u_/cqf3665b34tebctirki0.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;Reader 的一个特色功能就是丰富的高亮显示，在新版本中它又得到了加强。首先，我们可以对已存在的高亮进行再编辑，点击即可进入编辑状态；其次，当我们在高亮文本时 Reader 会在句首放大显示，提高高亮显示的精准度；最后，我们可以在移动端上滚动翻页的文件中进行跨页高亮显示操作，不过我在测试的过程中发现目前还是有 Bug，只有一部分文本会被正常高亮显示。&lt;/p&gt;&lt;figure&gt;&lt;img alt="DZqnbZbVZo8SYZxlyqtcQVM7nje" data-original="https://cdnfile.sspai.com/editor/u_/cqf366db34tebf0dr250.jpeg" src="https://cdnfile.sspai.com/editor/u_/cqf366db34tebf0dr250.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;Reader 的 EPUB 电子书体验也在新版本中得到了进一步强化，包括保留 EPUB 原生排版样式、文本全对齐选项以及更快的书籍封面加载速度等。&lt;/p&gt;&lt;figure&gt;&lt;img alt="Vc0PbP8e4oyxkDxxMPqc9z6BnUg" data-original="https://cdnfile.sspai.com/editor/u_/cqf366tb34tebih067rg.jpeg" src="https://cdnfile.sspai.com/editor/u_/cqf366tb34tebih067rg.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href="https://readwise.io/read/" target="_blank"&gt;Reader&lt;/a&gt; 可以在各大应用商店免费下载，同时也支持网页版，不过需要付费订阅才可以正常使用，价格为每月 12.99 美元（按月订阅）或者每月 9.99 美元（按年订阅），初次使用可以获得 30 天的免费试用。&lt;/p&gt;&lt;span&gt; &lt;/span&gt;&lt;h3&gt;Aqara Home 5.0：不太智能的 AI 助理和更加丰富的能耗服务&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;平台：iOS / iPadOS / Android&lt;/li&gt;&lt;li&gt;关键词：智能家居&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;a href="https://sspai.com/u/ul0vcezb" target="_blank"&gt;@Snow&lt;/a&gt;：近期，Aqara app 更新至 5.0 版，其中最为重要的一项更新，就是推出了应用 AI 大模型的全屋智能助理 Aqara Copilot，它可以帮助用户更快速高效地解决有关 Aqara app 和设备的问题，以及快捷查询和控制设备/场景/自动化等。&lt;/p&gt;&lt;p&gt;官方宣传 Aqara Copilot 可以实现以下功能：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;智能家居小百科，输入有关 app 和智能家居设备的问题，即刻为你解答；&lt;/li&gt;&lt;li&gt;智能设备排障，分析设备离线或低电量原因，并输出初步建议；&lt;/li&gt;&lt;li&gt;支持一句话快速创建自动化场景，并推荐自动化/场景化模板；&lt;/li&gt;&lt;li&gt;支持通过对话快速查询指定设备或房间的状态，以及快速查找指定自动化/场景，并执行一键控制；&lt;/li&gt;&lt;li&gt;支持根据当前所停留的场景弹出气泡，自动推荐问题；&lt;/li&gt;&lt;li&gt;支持多个对话控件、功能控件 UI 并进行交互；&lt;/li&gt;&lt;li&gt;支持天气查询、日常聊天等服务。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;不过在我看来，这位 AI 助理目前表现远不及预期。首先，作为一款基于大模型的 AI 助理，Aqara Copilot 既不是「万事通」，又不甘于只耕耘自己的一亩三分地。例如，它无法回答历史上的今天发生了什么事，却会告诉你附近 40 度高温的地方适合旅游；它解答不了我对三星的疑惑，却又对苹果公司的历史如数家珍。一天 99 次的调用次数算是慷慨，可天气查询反馈不算详尽，退出应用后又没有记忆，日常聊天什么的肯定也指望不上。&lt;/p&gt;&lt;p&gt;如果说大模型主打一个「虚无缥缈」，回到智能家居这个小模型它却依旧「不可用」。Aqara Copilot 的确对自家体系内的各类设备信息了然于胸，但它只是把所有文字根据你的提示词笼统地甩过来。以开发者预设的「我有哪些设备」为例，应用会堆砌出所有设备名及所有卡片，「小百科」是百科了，却缺乏使用场景。而当用户真的需要安装新设备时，卖家提供的图文并茂甚至是视频化的安装指导远比它的纯文字形象，涉及电工场景的文字指引也并会为你赋能；而设备故障时，它又无法辅助你定位故障原因，更不能直接帮你排障。Aqara Copilot 的表现就像一本带着索引的说明书，我不看说明书，所以我也不看它。&lt;/p&gt;&lt;figure&gt;&lt;img alt="W1JVbz5QHooh1zxayZkcP2Gdnpg" data-original="https://cdnfile.sspai.com/editor/u_/cqf3675b34tebf0dr25g.jpeg" src="https://cdnfile.sspai.com/editor/u_/cqf3675b34tebf0dr25g.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;而通过对话操作设备的能力就更加「抽象」，即使只是简单的定时自动化，Aqara Copilot 大概率也会在犹犹豫豫之后回答「我未能找到合适的动作或设备，请重试」，更别说实现多设备联动了。可如果只能执行开关这样的单一指令，那在看板上点击操作效率高得可不是一星半点。&lt;/p&gt;&lt;p&gt;虽然开发者一直在收集各方意见改进模型，但以目前阶段来说 Aqara Copilot 只是蹭了个 AI 热度，可用性基本为零。相比之下，优化后的「全屋能耗服务 2.0」实用性反而会强上不少。首先，它丰富了能耗卡片图表，支持按额定功率或负载功率进行能耗换算，以及支持智能设备的电费估算。负载功率能耗换算的加入，只需安装 Aqara 的开关即可实现能耗换算，适用门槛大幅下降。其次，新版电费统计支持峰谷收费及阶梯电费计算，让你的电费统计更为精准，且根据这些数据，应用还可以根据用户设定的日/月电费及耗电量指标，自动提供耗电超额的消息提醒，以及根据能耗使用情况提供优化建议。&lt;/p&gt;&lt;figure&gt;&lt;img alt="XMhwb7arJorWlwxNVFbcnhZ2nXg" data-original="https://cdnfile.sspai.com/editor/u_/cqf367db34tebctirkig.jpeg" src="https://cdnfile.sspai.com/editor/u_/cqf367db34tebctirkig.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;另一项我觉得较为实用的更新，是全屋看板的优化，这与此前米家的布局调整非常相似。应用在全屋看板顶部增加了一行「全部设备卡片总览」，你可以快速查看当前全屋设备状态信息，比如室内温湿度是多少，开了几个开关、几盏灯，有几个设备异常，有几个设备耗材不足等。点击对应信息，应用会快速筛选出对应卡片，方便你记录或操作。这才是提升效率的正确答案啊。&lt;/p&gt;&lt;figure&gt;&lt;img alt="IJ1obIYhJodPYGxh6DtcZuoTnTf" data-original="https://cdnfile.sspai.com/editor/u_/cqf367tb34tebf0dr260.jpeg" src="https://cdnfile.sspai.com/editor/u_/cqf367tb34tebf0dr260.jpeg"/&gt;&lt;/figure&gt;&lt;span&gt; &lt;/span&gt;&lt;h2&gt;App 速报&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Apple Store（&lt;a href="https://apps.apple.com/cn/app/apple-store/id375380948?platform=iphone" target="_blank"&gt;iOS&lt;/a&gt;）：更新至 v6.0，新版本通过设计优化，可以帮你更快找到适合自己的产品，「深入探索」标签页提供了快速了解和学习设备用法的更快方式。新增多个自定义隐私设置和偏好设置的选项，让你进一步掌控 Apple 对你共享数据的使用方式。&lt;/li&gt;&lt;li&gt;Blender（&lt;a href="https://www.blender.org/download/releases/4-2/" target="_blank"&gt;Windows | Linux | macOS&lt;/a&gt;）：更新至 v4.2 LTS，引入了下一代渲染引擎 EEVEE，支持全局照明、位移、更好的 SSS、运动模糊等功能。新版本还带来了最终渲染的 GPU 加速合成、Linux 和 Windows 系统上的 AMD GPU 默认启用 GPU 加速、重写渲染合成器 CPU 后端提高性能。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&amp;gt; 下载少数派 &lt;a href="https://sspai.com/page/client" target="_blank"&gt;客户端&lt;/a&gt;、关注 &lt;a href="https://sspai.com/link?target=https%3A%2F%2Fwww.xiaohongshu.com%2Fuser%2Fprofile%2F63f5d65d000000001001d8d4" target="_blank"&gt;少数派小红书&lt;/a&gt;，感受精彩数字生活 🍃&lt;/p&gt;&lt;p&gt;&amp;gt; 实用、好用的 &lt;a href="https://sspai.com/mall" target="_blank"&gt;正版软件&lt;/a&gt;，少数派为你呈现 🚀&lt;/p&gt;&lt;/div&gt;</description><author>少数派编辑部</author><guid>https://sspai.com/post/90709</guid><pubDate>Mon, 22 Jul 2024 10:29:27 GMT</pubDate></item><item><title>它的反反复复、你的难以启齿：口腔溃疡二三事</title><link>https://sspai.com/post/90520</link><description>&lt;div&gt;&lt;p&gt;两周前，我的嘴唇上长了一个溃疡，这可是一件大事。毕竟成都可是我的第二故乡，最近又是吃小龙虾的好季节，不能吃辣可怎么办。作为一个专业的口腔医生，我马上使出了浑身解数。但东搞搞、西搞搞，药买了一堆，最后溃疡好是好了，算下来却也一个多星期了，好像不去管它，也到了该好的时间了。&lt;/p&gt;&lt;p&gt;这小小的口腔溃疡，为何如此麻烦，这次好了，可能过一段时间，就又长出来一个，难道就没有更好的办法了吗？趁这个机会，我也好好的补了补功课，和大家一起分享一下口腔溃疡的两三事。&lt;/p&gt;&lt;p&gt;更加准确地说，应该是「复发性阿弗他溃疡」。&lt;/p&gt;&lt;h2&gt;我们说的「口腔溃疡」是什么？&lt;/h2&gt;&lt;p&gt;口腔溃疡与其说是一种疾病，不如说是一种&lt;strong&gt;症状&lt;/strong&gt;，它可能是很多疾病在口腔中的表现。所有发生在黏膜上的特定的微小损伤都可以称之为溃疡，除了口腔溃疡外（发生在口腔黏膜上），胃肠道黏膜、生殖器黏膜等也会发生溃疡，例如常见的胃溃疡、十二指肠溃疡等。而单独发生在口腔中的，同时也是最常见的溃疡，叫做「复发性阿弗他溃疡」。&lt;/p&gt;&lt;figure&gt;&lt;img data-original="https://cdnfile.sspai.com/2024/07/16/5a7116bae66c7ffefd255e1284309a6d.png" src="https://cdnfile.sspai.com/2024/07/16/5a7116bae66c7ffefd255e1284309a6d.png"/&gt;&lt;/figure&gt;&lt;h3&gt;复发性阿弗他溃疡&lt;/h3&gt;&lt;p&gt;你可能会疑惑这个「阿弗他」是什么。它对应的词是 aphthous，采用音译的原因是这个词在英语里指的就是「和口腔溃疡相关的」，其名词形式 aphtha 就是「口疮/口腔溃疡」，&lt;a href="https://link.springer.com/referenceworkentry/10.1007/978-3-319-28845-1_657-1" target="_blank"&gt;词源&lt;/a&gt;是希腊语中的「灼烧」，如果直译，就变成了「复发性口腔溃疡型溃疡」。为了在中文语境里把它与其他口腔溃疡区分开，只好音译一下作为定义，类似的情况应当不少。&lt;/p&gt;&lt;p&gt;复发性阿弗他溃疡又根据其发作的大小、个数、持续时间分为轻、重、疱疹样三种类型，其中最为典型、最为多见的是轻型。这也是我们日常生活中，常说的「我嘴里长了个溃疡」，「我最近嘴唇有点上火」时，所指代的溃疡。其标准的症状是：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;黄&lt;/strong&gt;：溃疡的表面通常覆盖一层黄色或白色的假膜，这层假膜是由纤维素、白细胞和其他细胞碎片组成的。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;红&lt;/strong&gt;：溃疡的周围通常会有红色的炎性晕圈，表现出明显的红肿，这是由于局部炎症反应引起的。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;凹&lt;/strong&gt;：溃疡通常是凹陷的，即溃疡区域比周围组织低，这是由于局部组织坏死和脱落形成的凹坑。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;痛&lt;/strong&gt;：溃疡通常伴有疼痛，尤其是在进食、说话或碰触时，疼痛感会更加明显。这种疼痛是由于溃疡侵蚀了口腔黏膜下的神经末梢所引起的。&lt;/li&gt;&lt;/ul&gt;&lt;figure&gt;&lt;img alt="HBaPbjQrsoH4d1x020kcmVa9nBg" data-original="https://cdnfile.sspai.com/editor/u_/cqb0sadb34t8mpgi05eg.png" src="https://cdnfile.sspai.com/editor/u_/cqb0sadb34t8mpgi05eg.png"/&gt;&lt;figcaption&gt;典型的溃疡表现&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;除此之外，它还有三大特点：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;strong&gt;复发性&lt;/strong&gt;：溃疡具有反复发作的特点，即在一段时间内溃疡可能会消失，但过段时间又可能会再次出现。患者在一生中可能会经历多次反复。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;周期性&lt;/strong&gt;：溃疡的发作具有一定的周期性，即溃疡的出现和消退常常有一定的规律。某些因素（如季节变化、饮食习惯、精神压力等）可能会影响其发作周期。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;自限性&lt;/strong&gt;：溃疡通常具有自限性，即即使不进行治疗，溃疡在一段时间后也可能会自行愈合。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;其他口腔溃疡&lt;/h3&gt;&lt;p&gt;除了复发性阿弗他溃疡之外，还有其他原因也会导致口腔溃疡：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;创伤性溃疡&lt;/strong&gt;：由各种创伤导致的，如咬伤、磨损、不良修复体（设计不合理或材料老化等导致的不合适的假牙）、进食过热的食物等；&lt;/li&gt;&lt;li&gt;&lt;strong&gt;癌性溃疡&lt;/strong&gt;：口腔癌（如鳞状细胞癌）的一种表现，溃疡持续不愈，边缘不规则，底部硬，有出血倾向；&lt;/li&gt;&lt;li&gt;&lt;strong&gt;结核性溃疡&lt;/strong&gt;：由结核分枝杆菌感染引起，通常继发于肺结核或其他部位的结核病；&lt;/li&gt;&lt;li&gt;&lt;strong&gt;全身疾病的口腔表现&lt;/strong&gt;：白塞病、克罗恩病、斯-约综合症、赖特尔综合征等，均会在口腔中表现为溃疡。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;这些溃疡有特定的病因，在日常生活中并不常见，治疗主要方法是针对病因进行治疗，并非本篇文章讨论的重点。为了方便讨论，在后面的篇幅内，「&lt;strong&gt;口腔溃疡」均指代「复发性阿弗他溃疡」&lt;/strong&gt;。&lt;/p&gt;&lt;h2&gt;口腔溃疡的病因是什么？&lt;/h2&gt;&lt;p&gt;「为什么我会长口腔溃疡？」&lt;/p&gt;&lt;p&gt;这是许多复发性口腔溃疡患者深感困惑的问题。但当你带着这个问题向医生寻求解答时，往往只能得到一个模糊而笼统的答复：溃疡的确切&lt;strong&gt;病因并不明确&lt;/strong&gt;，它可能与你的遗传以及生活习惯有着密切的关联。&lt;/p&gt;&lt;p&gt;这并不是医生在敷衍你，而是医生确实也没有办法给出一个明确的结论。&lt;/p&gt;&lt;p&gt;目前，最为主流的关于溃疡病因的观点是遗传、环境和免疫「三联因素论」。&lt;/p&gt;&lt;p&gt;具体来说，溃疡的发生可能是在特定的遗传背景下，受到某些环境因素的影响，如精神状态、心理行为、生活环境及工作方式等，这些因素相互作用，导致免疫系统出现异常反应，最终导致了复发性阿弗他溃疡。&lt;/p&gt;&lt;p&gt;这里列举一下，在溃疡发生发展过程中常见的影响因素（包括但不限于这些）：&lt;/p&gt;&lt;h3&gt;免疫系统功能失调&lt;/h3&gt;&lt;p&gt;免疫系统功能失调是导致复发性阿弗他溃疡的重要因素之一。近年来，大量研究纷纷指向免疫因素，特别是细胞免疫应答，在其发病中的核心作用。当这些免疫细胞或因子功能异常时，口腔黏膜更加容易受到损伤。&lt;/p&gt;&lt;h3&gt;饮食习惯&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;摄入特定的食物&lt;/strong&gt;：这是一个常见诱因。例如，巧克力、咖啡、坚果、杏仁、柑橘类水果、鸡蛋、草莓、奶酪和西红柿等食物。有些人摄入这些食物可能并不会出现过敏症状，但实际上会影响到肠道功能和免疫系统的功能，导致炎症，从而进一步导致溃疡。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;营养不均衡或营养不良&lt;/strong&gt;：例如维生素 B 族等缺失就与黏膜炎症关系密切。&lt;/p&gt;&lt;h3&gt;精神、环境因素&lt;/h3&gt;&lt;p&gt;行为类型、生活事件和工作环境引起的心理反应，压力、焦虑等精神因素，生活节奏和生活习惯等环境和社会因素均与溃疡的发生有一定的关系。&lt;/p&gt;&lt;h3&gt;病毒和细菌感染&lt;/h3&gt;&lt;p&gt;尽管在溃疡患者的病损部位发现了一些感染证据，如 L 型链球菌、幽门螺杆菌、腺病毒、巨细胞病毒、单纯疱疹病毒、人乳头状病毒等，但究竟是疾病导致了感染、还是感染导致了疾病，目前仍存在争议。&lt;/p&gt;&lt;h3&gt;系统性疾病&lt;/h3&gt;&lt;p&gt;临床实践经验和流行病学调查均发现复发性阿弗他溃疡与胃溃疡、十二指肠溃疡、溃疡性结肠炎、局限性肠炎、肝胆疾病及由寄生虫引起的各种消化道疾病或功能紊乱密切相关。&lt;/p&gt;&lt;h3&gt;遗传因素&lt;/h3&gt;&lt;p&gt;如果没有其他明确的诱因的话，那只能归咎于遗传因素了。遗传因素并不能等同于遗传疾病。遗传病一般是指的有明确的基因突变导致的疾病。而遗传因素更多的指的是一种易感性，即在这种遗传基因背景下，更容易患上这种疾病。&lt;/p&gt;&lt;p&gt;换句话说，溃疡的形成并不是单一因素作用的结果，而是多种因素共同作用、相互交织的复杂过程。&lt;/p&gt;&lt;p&gt;因此，对于每一个具体的溃疡患者来说，其病因可能是独一无二的，需要综合考虑各种可能的影响因素。这也解释了为什么在一群生活习惯极其类似的朋友、同事中间，有的人反反复复长溃疡，有的人则从来没有；有些人用某些药物的效果很好，有些人则基本没有效果。&lt;/p&gt;&lt;h2&gt;口腔溃疡用看医生吗？&lt;/h2&gt;&lt;p&gt;口腔溃疡复杂的病因还带来了另外一个难题：难以根治。&lt;/p&gt;&lt;p&gt;通常情况下，根治疾病的方法主要有两个方面：首先是针对病因进行治疗，比如通过抗细菌或抗病毒药物来消除病原体；其次是通过手术切除病变组织，以去除疾病根源。&lt;/p&gt;&lt;p&gt;然而，对于口腔溃疡而言，这两种常规手段都显得力不从心。原因如下：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;strong&gt;病因治疗的局限性&lt;/strong&gt;：目前医学界尚未能够确定一个单一的病因作为口腔溃疡的主导因素。因此，病因的针对性治疗，例如使用抗菌或抗病毒药物，并不能从根本上预防或根治口腔溃疡。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;手术治疗的不适宜&lt;/strong&gt;：口腔溃疡通常表现为局部的黏膜损伤，手术切除相当于切除了溃疡的同时创造了一个新的溃疡（创伤性溃疡）。我们也不可能哪里出现溃疡就直接切除哪里的黏膜，这不光会带来患者和医生的负担，而且有可能会加重病情。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;因此，目前的治疗策略主要集中在缓解症状、降低发作频率和严重程度上。这包括&lt;strong&gt;减&lt;/strong&gt;轻疼痛、&lt;strong&gt;促&lt;/strong&gt;进溃疡愈合、&lt;strong&gt;延&lt;/strong&gt;长溃疡的复发间隔期，最终提升患者的生活质量。&lt;/p&gt;&lt;h3&gt;何时需要就医？&lt;/h3&gt;&lt;p&gt;通常，在保持良好的口腔卫生和避免刺激因素的情况下（例如过烫的或辛辣刺激的食物），口腔溃疡可以在 1 至 2 周内自行愈合。但如果有如下的情况，最好寻求一下医疗帮助：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;可能有其他潜在疾病&lt;/strong&gt;：上文提到，溃疡可能不仅仅是复发性阿弗他溃疡的表现，它也可能是口腔癌、全身性疾病、不良修复体等其他问题的信号。如果你口腔内的溃疡&lt;strong&gt;长时间不愈合&lt;/strong&gt;（超过 1 至 2 周）、&lt;strong&gt;溃疡面积较大&lt;/strong&gt;（超过 10 毫米）&lt;strong&gt;或全身多处发现溃疡&lt;/strong&gt;，建议尽快到口腔黏膜病科（如果医院有此专科，否则选择口腔科）就诊，及时明确病因，排除其他潜在疾病。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;无法忍受的症状&lt;/strong&gt;：治疗口腔溃疡的主要目的是缓解症状，提高生活质量。如果你的症状难以忍受，如频繁发作、疼痛剧烈，或者影响正常饮食和说话，就应该及时就医。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;已经口腔溃疡了，需要吃药吗？&lt;/h2&gt;&lt;h3&gt;局部治疗&lt;/h3&gt;&lt;p&gt;虽说大部分情况下溃疡可以自愈，但这个毛病最大的问题是折磨人——吃饭痛、说话痛、张嘴就在痛。因此，患者的诉求更多是「止痛」，这也是处理口腔溃疡时，局部治疗的最大意义。此外也有一些药物，能够加速或辅助溃疡面的愈合。&lt;/p&gt;&lt;p&gt;常见的药物如下：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;止痛剂&lt;/strong&gt;：最常见的是含有各种局麻药物的凝胶、喷雾（例如利多卡因）。这些药物的作用很好理解，就是使用局麻药物局部麻痹痛觉神经，达到止痛的目的。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;保护剂&lt;/strong&gt;：例如包含壳聚糖、透明质酸的凝胶，或者各种保护形的贴剂。这些成分可以在一段时间内，在溃疡表面形成一个保护层，防止细菌及有害物质的进入，也能够减少刺激，避免疼痛。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;类固醇类激素&lt;/strong&gt;：常见的有含有地塞米松、曲安奈德的软膏或贴剂，这些激素能够消炎并有效的促进溃疡愈合。其中的激素含量很低，并且局部使用，副作用较小，还是比较安全的。&lt;/li&gt;&lt;li&gt;局部抗菌药物：部分溃疡可能伴随细菌或真菌感染，这些病原体会延迟溃疡愈合。因此，推荐使用一些抗菌药物，如庆大霉素贴剂和抗菌漱口水（如复方氯己定漱口水）进行辅助治疗。&lt;/li&gt;&lt;li&gt;生长因子：含有各类生长因子的软膏、凝胶、喷雾等（如牛碱性生长因子、人酸性生长因子）。这些生长因子的主要作用是促进伤口的愈合，广泛用于烧伤和皮肤损伤。其价格较为昂贵，但用来治疗溃疡的证据并不充分。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;总的来说，凝胶、软膏、喷雾、贴剂等都是药物的剂型，并不代表药物的效果，实际上起效的是其中的成分。从我个人的使用体验来看，喷雾和漱口水的使用舒适度和方便程度是最好的，凝胶和软膏次之，而贴剂由于有压迫感，可能会对溃疡产生刺激，产生疼痛，并让部分患者感到异物感，是最不舒适的。但从持续时间和作用上来看，贴剂最为牢靠，其次是凝胶和软膏，喷雾则持续时间最短。&lt;/p&gt;&lt;p&gt;而成分方面，最为有效的是局麻药物和激素。局麻药物可以保证你在一段时间内感受不到疼痛。例如，你可以在吃饭之前使用，保证大快朵颐的过程中不会受到疼痛的干扰。而激素在消炎和加速愈合方面切实有效（对于我来说），且短期局部使用较为安全。&lt;/p&gt;&lt;h3&gt;全身治疗&lt;/h3&gt;&lt;p&gt;切记：全身治疗只能由接受过相关药物使用培训的专科医师进行，&lt;strong&gt;不要擅自对口腔溃疡采用全身治疗方案&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;全身治疗使用的药物较为特殊：激素类和免疫调节类的药物一般都有较大的副作用；抗菌药物的长期使用会导致耐药性和肝肾功能的损伤；全身性抗菌药物、全身性抗炎药等也都或多或少有其副作用。&lt;/p&gt;&lt;p&gt;而且，尽管全身治疗的干预措施被用于治疗口腔溃疡，但目前研究认为，&lt;strong&gt;尚没有足够的证据支持或反对使用任何全身性的干预措施&lt;/strong&gt;。也就是说，当你付出了承受较大副作用的代价之后，可能效果也并不理想。&lt;/p&gt;&lt;p&gt;此外，部分药物似乎对部分特定的患者有效。比如复合 B 族维生素这样的营养补充剂等，虽说规定剂量下没什么副作用，但也只有真的缺乏才会起效。&lt;/p&gt;&lt;p&gt;临床实践中，除非患者的症状较为严重，或者有明确的指标，如抗体水平的变化等，医生才会根据患者的具体情况使用全身性的药物，如果没有效果也会及时更换药物。我们更不应该自行购买使用相关药物，否则得不偿失。&lt;/p&gt;&lt;h3&gt;中成药&lt;/h3&gt;&lt;p&gt;除了上述的药物之外，还有一类特殊的药物——中成药。我本人并非中医专业，研究有限。不过临床上确实中成药的应用也较为广泛，所以我也去检索了一些相关文献。在中华口腔医学会的一篇专家共识的征求意见稿中，强推荐的只有两种药物：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;康复新液 - 高、中质量；强推荐；&lt;/li&gt;&lt;li&gt;口炎清颗粒 - 高质量；强推荐。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;除此之外所有的药物均为弱推荐。详细的意见稿在这里，供各位参考：&lt;a href="https://www.cndent.com/wp-content/uploads/2020/04/18.%E3%80%8A%E4%B8%AD%E6%88%90%E8%8D%AF%E6%B2%BB%E7%96%97%E5%A4%8D%E5%8F%91%E6%80%A7%E9%98%BF%E5%BC%97%E4%BB%96%E6%BA%83%E7%96%A1%E4%B8%B4%E5%BA%8A%E5%BA%94%E7%94%A8%E7%9A%84%E4%B8%93%E5%AE%B6%E5%85%B1%E8%AF%86%E5%BB%BA%E8%AE%AE%E3%80%8B%EF%BC%88%E5%BE%81%E6%B1%82%E6%84%8F%E8%A7%81%E7%A8%BF%EF%BC%89.pdf" target="_blank"&gt;《中成药治疗复发性阿弗他溃疡临床应用的专家共识建议》（征求意见稿）&lt;/a&gt;&lt;/p&gt;&lt;h2&gt;除了吃药，我们还能做什么？&lt;/h2&gt;&lt;p&gt;其实，溃疡是一个非常「个人化」的疾病。它的病因和影响因素非常复杂，因此，组成每个人溃疡的「配方」都是不一样的。对这些不同的「配方」，粗暴的使用一种或者几种不同的药物去治疗，显然无法达到最佳的效果。这也解释了为什么某些药物只对特定的患者有效。&lt;/p&gt;&lt;p&gt;由于国内的医疗现状，医生很难有足够的时间、精力、成本去详细了解每个患者的全面情况，从而制定详细的治疗计划。医生在进行治疗的时候，更多的是缓解患目前的症状，而非从根本上解决问题。更多的时候，可能需要有能力的患者进行「自救」。&lt;/p&gt;&lt;p&gt;事实上，治病从来也不仅仅是医生的事情，而需要医生和患者进行配合。&lt;/p&gt;&lt;p&gt;如果你只是偶尔一次或几次的口腔溃疡患者，大可不必放在心上。这个疾病复杂的病因和自限的症状，会让你的投入非常没有性价比，还会带来额外的焦虑和精神压力。这种情况下，顺其自然是最有效的处理办法。&lt;/p&gt;&lt;p&gt;但如果你是一个长期的反复发作、深受其困扰的口腔溃疡患者，可以尝试通过「自我观察和记录」的方式来自我管理和辅助治疗。&lt;/p&gt;&lt;p&gt;我们可以根据自身情况制定一份详细的口腔溃疡的病因核查表，在每次发作的时候，记录下其主要的表现、最近的生活状态、可能导致其发作的因素以及任何需要特别记录的信息。以下是我个人制作的一份口腔溃疡的核查表，可以供各位参考。&lt;/p&gt;&lt;h3&gt;自己找原因：口腔溃疡病因核查表&lt;/h3&gt;&lt;p&gt;首先，在第一次记录的时候，我们可以问自己：&lt;/p&gt;&lt;figure&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td rowspan="4"&gt;&lt;strong&gt;健康状况&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;是否有慢性疾病：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;是否有正在服用药物：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;是否有消化系统疾病：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;是否有免疫系统疾病：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;strong&gt;家族病史&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;家族中是否有人患有口腔溃疡：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;家族中是否有人患有其他相关疾病：&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;之后每次溃疡复发，我们都可以这样记录：&lt;/p&gt;&lt;figure&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;strong&gt;溃疡发生时间&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;日期：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;持续时间：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan="6"&gt;&lt;strong&gt;溃疡特征&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;位置（嘴唇、舌头、颊部、软腭等）：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;大小（直径 mm）：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;数量：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;形状（圆形、椭圆形等）：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;颜色（黄色、红色等）：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;疼痛程度（轻微/中等/严重）：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan="4"&gt;&lt;strong&gt;生活习惯&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;近期睡眠时长（小时）：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;是否有熬夜：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;吸烟情况（是/否）：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;饮酒情况（是/否）：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan="4"&gt;&lt;strong&gt;饮食记录&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;近期辛辣食物摄入（是/否）：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;近期酸/硬食物摄入（是/否）：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;近期水果蔬菜摄入量：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;偏食情况（是/否）：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan="3"&gt;&lt;strong&gt;情绪与压力&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;近期是否有重大情绪波动：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;工作压力评估（低/中/高）：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;近期是否有重大生活事件：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan="3"&gt;&lt;strong&gt;口腔卫生&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;每日刷牙次数：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;使用牙线情况（是/否）：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;最近一次口腔检查日期：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;strong&gt;治疗措施&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;使用的药物或治疗方法：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;治疗的效果评估（有效/无效/部分有效）：&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;备注&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;任何需要特别记录的信息：&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;通过一段时间的记录和复盘，找出其中的「共同点」和「异常点」，在往后的生活中，尽量去避免这些可疑的导致口腔溃疡的因素，并观察溃疡的症状是否有改善（持续时间变短以及复发频率变低），并以此为依据进一步对自己的工作、生活和饮食习惯进行调整，从而达到长期改善症状和生存体验的目的。&lt;/p&gt;&lt;p&gt;但需要注意的是，以上方法更适合作为「医疗辅助」而非「治疗方法」，患者还是应该首先考虑就医。&lt;/p&gt;&lt;h3&gt;从功能医学的视角思考&lt;/h3&gt;&lt;p&gt;「治病从来也不仅仅是医生的事情」这样的观点并非是某个人的独创。在现代医学体系下，一直存在着一个叫做「功能医学 functional medicine」的概念。它主张：寻找并处理导致健康问题的根本原因，而不仅仅是缓解症状。这种方法力求实现对个体健康的全面理解，采用个性化的治疗方案，促进身体各系统之间的平衡，以实现最佳的健康状态。用中医的说法大概就是「治未病」和「辩证」。&lt;/p&gt;&lt;p&gt;有一本叫做《免疫功能 90 天复原方案》的书让我印象深刻。作者声称自己在确诊「甲状腺功能减退」和「桥本甲状腺炎」后，通过了解学习和实践功能医学，改善了健康状况，抗体水平恢复到正常状态，桥本甲状腺炎也被治愈，甲状腺激素的服用剂量缩小到了 10 年前的一半。&lt;/p&gt;&lt;p&gt;书中这样描述作者的做法：坚持吃不含麸质的食物，不再吃重金属含量高的鱼，从而减少汞暴露；拿掉了牙齿中的银汞合金填充物；喝蛋白奶昔，以减轻炎症、增强肝功能。&lt;/p&gt;&lt;figure&gt;&lt;img alt="QCbNbEAARoy0awxf5L9cYX6tnBh" data-original="https://cdnfile.sspai.com/editor/u_/cqb0satb34t8mpgi05f0.png" src="https://cdnfile.sspai.com/editor/u_/cqb0satb34t8mpgi05f0.png"/&gt;&lt;/figure&gt;&lt;p&gt;然而，在第一次看到这本书的时候，我一度认为作者是一个「骗子」，原因有三：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;作者在声称自己的方法能够治愈现代医学无法治愈的疾病；&lt;/li&gt;&lt;li&gt;作者的语言具有较强的引导性；&lt;/li&gt;&lt;li&gt;作者的大多数建议和方法缺乏翔实可靠的证据，属于经验和个人观点。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;随后，我仔细研究了功能医学并发现，严肃的专家和学者将其称之为伪科学，并认为其是有害的，主要是因为其中包含了很多未经证实的医疗建议和治疗方法。&lt;/p&gt;&lt;p&gt;我们不能盲目相信这些经验之谈和未经证实的治疗方法。但从功能医学的视角下看，口腔溃疡虽不是一个严重的疾病，某种程度上却是一个能够反映一个人的生活状态和身体状况的指标。而保持健康的生活方式，包括均衡饮食、适量运动、充足睡眠和压力管理，&lt;strong&gt;对于维护整体健康和预防疾病都是非常重要的。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;最后，现代医学在改善人类健康和延长寿命方面取得了令人瞩目的成就，但它并非万能。事实上，许多疾病的病因仍不明确，治愈的方法也可能非常有限。就像口腔溃疡，尽管并不严重，却常常反复发作，难以根治。&lt;/p&gt;&lt;p&gt;现代医学的局限性在提醒我们，健康不仅仅依赖于医疗技术，还需要我们在日常生活中养成良好的健康习惯，包括合理饮食、适量运动、充足睡眠和积极的心理状态等。&lt;/p&gt;&lt;p&gt;希望在养成良好的健康习惯后，你有天可以惊觉，自己已经很久没再遭过口腔溃疡的罪了。&lt;/p&gt;&lt;h4&gt;参考文献&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;《口腔黏膜病学》第5版 - 人民卫生出版社&lt;/li&gt;&lt;li&gt;Brocklehurst P, Tickle M, Glenny AM, Lewis MA, Pemberton MN, Taylor J, Walsh T, Riley P, Yates JM. Systemic interventions for recurrent aphthous stomatitis (mouth ulcers). Cochrane Database Syst Rev. 2012 Sep 12;(9):CD005411.&lt;/li&gt;&lt;li&gt;施琳俊,周曾同. 复发性阿弗他溃疡的诊断与疾病管理[J]. 中华口腔医学杂志,2022,57(03)：314-318.&lt;/li&gt;&lt;li&gt;《中成药治疗复发性阿弗他溃疡临床应用的专家共识建议》（征求意见稿）&lt;/li&gt;&lt;li&gt;《免疫功能90天复原方案》- 北京科技出版社&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&amp;gt; 关注 &lt;a href="https://sspai.com/s/J71e" target="_blank"&gt;少数派公众号&lt;/a&gt;，解锁全新阅读体验 📰&lt;/p&gt;&lt;p&gt;&amp;gt; 实用、好用的 &lt;a href="https://sspai.com/mall" target="_blank"&gt;正版软件&lt;/a&gt;，少数派为你呈现 🚀&lt;/p&gt;&lt;/div&gt;</description><author>EurekaLab</author><guid>https://sspai.com/post/90520</guid><pubDate>Mon, 22 Jul 2024 06:59:19 GMT</pubDate></item><item><title>GraphRAG + GPT-4o mini 低成本构建 AI 图谱知识库</title><link>https://sspai.com/post/90665</link><description>&lt;div&gt;&lt;p&gt;&lt;strong&gt;Matrix 首页推荐&lt;/strong&gt; &lt;/p&gt;&lt;p&gt;&lt;a href="https://sspai.com/matrix" target="_blank"&gt;Matrix&lt;/a&gt; 是少数派的写作社区，我们主张分享真实的产品体验，有实用价值的经验与思考。我们会不定期挑选 Matrix 最优质的文章，展示来自用户的最真实的体验和观点。&lt;/p&gt;&lt;p&gt;文章代表作者个人观点，少数派仅对标题和排版略作修改。&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;更好的效果，更低的价格，听起来是不是像梦呓？&lt;/p&gt;&lt;h2&gt;&lt;strong&gt;限制&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;首先，让我们来介绍一个词：RAG。&lt;/p&gt;&lt;p&gt;简单来说，RAG（Retrieval-Augmented Generation，检索增强生成） 的工作原理是将大型文档分割成多个小段落或片段。主要原因是，大语言模型的上下文窗口长度有限，无法一次处理超过上下文窗口长度的信息。&lt;/p&gt;&lt;p&gt;当我提出一个问题时，RAG 技术可以先从这些片段中检索相关信息，根据我提问的内容与这些片段的相似度，找出若干个与问题相关的片段，组合成一个上下文，然后将这些信息，连同我的提问一起输入到大语言模型中，然后期待大语言模型「更为精准」的回答。&lt;/p&gt;&lt;p&gt;然而，我们需要考虑一些潜在的局限性。对于一个足够长的文档和一个非常复杂的问题，单靠这几个（仅仅是疑似相关的）片段可能是不够的。真正的答案，也许根本就不在里面。&lt;/p&gt;&lt;p&gt;我们之前讨论了很多关于私有知识库。例如 Quivr, Elephas, GPTs, Obsidian Copilot …… 用久了你会发现，私有知识库提供的回答结果与通过数据微调模型获得的结果可能差异很大 —— 微调后的模型往往能够依据私有数据回答非常复杂的问题，而 RAG 这种简单粗暴的拼接方式，很多时候得到的答案并不理想。&lt;/p&gt;&lt;h2&gt;&lt;strong&gt;图谱&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;这些问题就催生了 GraphRAG。GraphRAG 是一种创新的技术，它结合了知识图谱结构和 RAG 方法，旨在解决传统 RAG 方法的局限性。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/a6079982c4fb73b6d095d8375e736e13.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/a6079982c4fb73b6d095d8375e736e13.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;这是微软研发的一个创新产品，它代表了 RAG 技术的最新进展。微软还发布了相关的学术论文，详细阐述了 GraphRAG 的理论基础和技术实现。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/59348b1646f8efc2c49c67b9d5b84991.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/59348b1646f8efc2c49c67b9d5b84991.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;那么，这里的 &amp;quot;Graph（图）&amp;quot; 究竟是什么意思呢？在 GraphRAG 的主页上，你会看到一个复杂的图谱。这个图谱不仅仅是一个简单的示意图，它代表了知识的结构化表示。在这个图谱中，每个节点可能代表一个概念或实体，而连接这些节点的边则表示它们之间的关系。&lt;/p&gt;&lt;p&gt;假设图谱中有一个节点是「老虎」，另一个是「兔子」，老虎与兔子之间连一条线，上面写着「吃」，代表二者的关联是「老虎吃兔子」。当然，这只是一个不够严谨的比喻。&lt;/p&gt;&lt;p&gt;有了这样的图谱，为什么要将其与刚才提到的 RAG 结合呢？因为之前提到的「满地找碎片」的传统 RAG 方式实际上效果不佳，所以我们希望将这些概念之间的复杂关系展现出来。在查询时，不再是大海捞针去找「可能相关」的信息碎片，而是根据图谱中已经掌握的关联，提取一整串相连的信息，让大语言模型来一并处理。&lt;/p&gt;&lt;p&gt;&lt;a href="https://microsoft.github.io/graphrag/posts/get_started/" target="_blank"&gt;这里是 GraphRAG 的 GitHub 网址&lt;/a&gt;。它在 GitHub 上的受欢迎程度如何？已经获得超过一万一千颗星。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/06ec48adb3720b60107049a6c817a058.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/06ec48adb3720b60107049a6c817a058.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;对于一个项目来说，这是一个非常好的成绩，我做梦都希望自己的项目能达到这样的水平。看来还得继续努力。&lt;/p&gt;&lt;h2&gt;&lt;strong&gt;特点&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;我们来看看 GraphRAG 的特点。它融合了人工智能的两大流派，一个是深度学习，另一个是知识图谱。&lt;/p&gt;&lt;p&gt;曾经这两个流派是对立的。后来发现对立干啥啊？&lt;/p&gt;&lt;p&gt;你现在用深度学习直接回答效果不好，但如果结合图谱，效果就会强很多。&lt;/p&gt;&lt;p&gt;另一方面，构建知识图谱原来得人工根据规则去抽取其中的实体和关联，那是一个砸钱堆人力的活计。后来发现用上深度学习可以有效提升实体抽取效率。特别是有了大语言模型，人们发现抽取实体和关联变得更加准确、简单且低成本。所以，二者的融合，是大势所趋。&lt;/p&gt;&lt;p&gt;那么融合之后的 GraphRAG 擅长什么呢？它能够把&lt;strong&gt;实体之间的复杂关系和上下文串联起来&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;正如刚才我们提到的这个过程，它可以连接多个信息点进行复杂查询。这种查询不是简单地提取一部分信息就能完成的。原先根据相似度找出来的这些信息碎片，可能根本不足以支撑问题解答。但现在，根据实际关联获取相关信息，效果要好很多。&lt;/p&gt;&lt;p&gt;另外 GraphRAG 由于对数据集有了整体的刻画，因此概念语义信息得到了充分的表达。&lt;/p&gt;&lt;p&gt;两个特点相夹持，使得 GraphRAG 的表现有了非常显著的改进。后面的例子里，你也能观察到这点。&lt;/p&gt;&lt;h2&gt;&lt;strong&gt;局限&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;不过，这个技术也不是那么完美。它遇到的问题，最为显著的就是一个字 —— 贵。&lt;/p&gt;&lt;p&gt;官方的例子提到一本书，稍后我们会看到，实体书篇幅大概 200 页左右。把它图谱化 RAG，需要花多少钱？&lt;/p&gt;&lt;p&gt;11 美金。&lt;/p&gt;&lt;p&gt;有的人觉得这太贵了，为了索引一本电子书耗费的钱都快赶上一本实体书了。&lt;/p&gt;&lt;p&gt;那么我们有没有解决办法呢？我们需要分析。&lt;/p&gt;&lt;p&gt;GraphRAG 实施成本为什么会那么高？因为它使用的是 GPT-4 Turob Preview 模型。这个模型 token 成本较高，由于在图谱构建过程中，需要反复调用它，因此 GraphRAG 成本居高不下。&lt;/p&gt;&lt;p&gt;既然找到了原因，我们是否可以使用一个更经济的模型来替代它呢？&lt;/p&gt;&lt;p&gt;这是个很自然就能联想到的问题。许多人也已经做了尝试。例如，有人尝试在本地运行 Ollama 这样的本地小型模型，但最终效果不好，构建过程中常常出现问题。&lt;/p&gt;&lt;p&gt;有的人使用 Groq 来做，而且成功了，但需要进行不少复杂的设置变更，对于初级用户来说非常麻烦。&lt;/p&gt;&lt;p&gt;最简便的方法，自然是期待 OpenAI 推出一个更经济实惠的模型。&lt;/p&gt;&lt;p&gt;期盼着，期盼着，好消息来了。&lt;/p&gt;&lt;p&gt;OpenAI 最近给我发了信，说它新推出了一个 GPT-4o mini 模型。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/e0f80e752e97c606ed148892d225888e.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/e0f80e752e97c606ed148892d225888e.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;不要被名称忽悠了——GPT-4o mini 的对标模型，其实是GPT-3.5 Turbo，但它甚至比3.5 Turbo还要便宜60%。&lt;/p&gt;&lt;p&gt;我不得不钦佩 OpenAI 现在的命名方式。如果你把它叫做 GPT 3.5 Turbo Plus，效果可能就不好，因为人们会觉得这不就是一个改进版的 3.5 吗？虽然便宜一点，但依然觉得不太满意。&lt;/p&gt;&lt;p&gt;你把它叫做 GPT-4o mini ，人们就会脑补这是一个好的模型，多模态、快速又便宜。大家就会觉得自己占了便宜，竟然能用一个跟 GPT-4o 对标的模型，居然比原来的 3.5 还便宜那么多，这无论如何，也是个甜买卖啊。&lt;/p&gt;&lt;p&gt;我拿到 GPT-4o mini 的使用权限后，立即测试了一下它的中文写作。我把测试结果分享到了知识星球。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/afe870c9b57a5111bfe366b10e20b208.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/afe870c9b57a5111bfe366b10e20b208.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;不过你不要误解，GPT-4o mini 毕竟是个小模型，你可以指望它的中文输出能力，但千万不要以为它的推理与逻辑思考能力也可以赶上 GPT-4o 或者 Claude 3.5 Sonnet 。所以我是把它放在了工作流里合适的位置上，物尽其用。&lt;/p&gt;&lt;p&gt;突然，我想到 GPT-4o mini 不仅可以用来输出文字，还可以用它和 GraphRAG 「双剑合璧」啊。&lt;/p&gt;&lt;p&gt;想到这里都觉得兴奋不已，那咱们下面就来看看效果究竟如何。&lt;/p&gt;&lt;h2&gt;&lt;strong&gt;安装&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;首先，我们需要把 GraphRAG 安装上，这里使用 &lt;code&gt;pip install&lt;/code&gt;，非常简单。&lt;/p&gt;&lt;p&gt;&lt;code&gt;pip install graphrag&lt;/code&gt;&lt;/p&gt;&lt;p&gt;它会安装一系列的依赖，包括了 GraphRAG 所需的各种库和工具。安装过程可能需要一些时间，取决于你的网络速度和电脑性能。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/4bdad71f70b39e3d358a39a3ebb55073.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/4bdad71f70b39e3d358a39a3ebb55073.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;安装完成后，我们找一个目录，新建一个目录，然后在下面执行这一句。&lt;/p&gt;&lt;p&gt;&lt;code&gt;mkdir -p ./ragtest/input&lt;/code&gt;&lt;/p&gt;&lt;p&gt;这里的 input 是什么呢？就是我们存放输入的文本 —— 像刚刚提到的 200 页的书或者文章 —— 的地方。&lt;/p&gt;&lt;p&gt;我在 Visual Studio Code 下给你演示吧，比较直观。&lt;/p&gt;&lt;p&gt;执行这条命令后，侧边栏会出现一个新的文件夹。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/eefd53b767e936ee4a2d5cecf8a37c79.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/eefd53b767e936ee4a2d5cecf8a37c79.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;接下来，我们要把书籍资料下载下来。这里 GraphRAG 官网样例使用的是古腾堡计划，上面有很多免费的图书。古腾堡计划是一个致力于创建和分发免费电子书的志愿者项目，它提供了大量版权已过期的经典文学作品。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/3d50da88449c481bfe292a1ae1d72904.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/3d50da88449c481bfe292a1ae1d72904.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;GraphRAG 官网给的样例是《圣诞颂歌》，是查尔斯・狄更斯创作的一部著名小说，讲述了一个守财奴在圣诞节前夜经历的奇妙故事，最终改变了自己的人生态度。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/0fb20ad857f0defc880d2425b75c6e74.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/0fb20ad857f0defc880d2425b75c6e74.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;执行下面这条命令下载即可：&lt;/p&gt;&lt;p&gt;&lt;code&gt;curl https://www.gutenberg.org/cache/epub/24022/pg24022.txt &amp;gt; ./ragtest/input/book.txt&lt;/code&gt;&lt;/p&gt;&lt;p&gt;我查看了一下，下载的文件在本地显示为 189KB。大吗？对于文本来说，不算太少。不过相对于今天动辄上 GB 的存储内容来说，那是真不大。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/b69630ee2bedf1a18f2fbd00da207248.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/b69630ee2bedf1a18f2fbd00da207248.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;下载完成后，我们需要进行初始化。&lt;/p&gt;&lt;p&gt;&lt;code&gt;python -m graphrag.index --init --root ./ragtest&lt;/code&gt;&lt;/p&gt;&lt;p&gt;这个步骤是为了设置 GraphRAG 的基本环境和配置，确保后续操作能够顺利进行。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/fe557cd273d06e0a6892e8791533e471.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/fe557cd273d06e0a6892e8791533e471.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;我们来看一下，执行很快，因为这里面不做任何实际索引操作，只是新建几个文件和文件夹。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/ae22c27f6f85c8d71487b8806ca8e385.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/ae22c27f6f85c8d71487b8806ca8e385.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;刚才有一个 input 是你自己建的，现在 GraphRAG 创建了 output 文件夹、prompts 文件夹，还有两个设定文件。&lt;/p&gt;&lt;p&gt;我们先设置这个 &lt;code&gt;.env&lt;/code&gt; 文件，里面需要填入一些配置。这些配置通常包括 API 密钥、模型选择等重要参数，它们对于 GraphRAG 的正常运行至关重要。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/42946fc0c8e6360dd1ca41da73fd06b8.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/42946fc0c8e6360dd1ca41da73fd06b8.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;你需要将 OpenAI 提供的 API 密钥填入 &lt;code&gt;GRAPHRAG_API_KEY&lt;/code&gt; 即可。&lt;/p&gt;&lt;p&gt;另外，&lt;code&gt;settings.yaml&lt;/code&gt; 文件也需要修改。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/5302169fa8bfddac1ac99c3efb0ea586.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/5302169fa8bfddac1ac99c3efb0ea586.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;这里面有一项尤其需要注意。原来默认使用的是 GPT-4 Turbo preview，这一定要改为 GPT-4o mini，因为我们要尝试降低成本。其他设置无需更改。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/0f372fdee0107ea4186183d48f13756f.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/0f372fdee0107ea4186183d48f13756f.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;接下来我们来建立索引。回到终端，执行以下命令。&lt;/p&gt;&lt;p&gt;&lt;code&gt;python -m graphrag.index --root ./ragtest&lt;/code&gt;&lt;/p&gt;&lt;p&gt;这条命令建立一个图谱化的知识库。这个过程花了足足五分钟的时间，咱们就不详细展示了。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/cadcb111e0b745142454303dbf0969fe.gif" src="https://cdnfile.sspai.com/2024/07/21/article/cadcb111e0b745142454303dbf0969fe.gif"/&gt;&lt;/figure&gt;&lt;h2&gt;&lt;strong&gt;查询&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;终于，图谱构建完毕。下面我们做一个查询。&lt;/p&gt;&lt;p&gt;&lt;code&gt;python -m graphrag.query \ --root ./ragtest \ --method global \ &amp;quot;What are the top themes in this story?&amp;quot;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;注意这里的命令，Global（全局）代表我对整本书提问。我们问的问题是：这个故事有哪些最主要的主题？&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/a79bd16e3804147ab0e7c4bbd8ee377a.gif" src="https://cdnfile.sspai.com/2024/07/21/article/a79bd16e3804147ab0e7c4bbd8ee377a.gif"/&gt;&lt;/figure&gt;&lt;p&gt;来看一下结果。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/5578d24eba45b8fde8a513ba95fa55e9.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/5578d24eba45b8fde8a513ba95fa55e9.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;结果显示了若干主题，每个答案后面都有一系列的内容来源标号，这一点很重要。它强调了大语言模型没有幻觉，而确实是利用你提供的资料来给出答案。&lt;/p&gt;&lt;p&gt;为了让你看得更加清楚，我给你把上面的答案翻译一下。这里我们使用的是吴恩达老师的三步反思翻译法。&lt;/p&gt;&lt;p&gt;为了让 AI 工作流更加简单，我做了一个工具，并且开放在了 Github 上面，&lt;a href="https://github.com/wshuyi/workflows_with_litellm_pub" target="_blank"&gt;网址在这里&lt;/a&gt;。（https://github.com/wshuyi/workflows_with_litellm_pub）如果你觉得好用，别忘了给加颗星啊。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/527ad019b6ffd9f1e57ceaee0c69181d.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/527ad019b6ffd9f1e57ceaee0c69181d.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;这个项目可以帮助我们快捷地执行工作流程。它包含了一系列预设的脚本和配置文件，使得我们能够轻松地设置环境、运行查询。&lt;/p&gt;&lt;p&gt;这个项目不仅可以提高效率，还能确保工作流程的一致性。你可以将复杂的工作流程简化为一个配置文件。这个文件可以清晰地定义每一个步骤，使得整个流程变得更加透明和可管理。&lt;/p&gt;&lt;p&gt;这就是一个配置文件的例子。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/cc66e0c8f55b9ea23b9f9b3bdf6880cd.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/cc66e0c8f55b9ea23b9f9b3bdf6880cd.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;这里我说你要进行三步操作，这三步操作构成了一个完整的工作流程。&lt;/p&gt;&lt;p&gt;第一步是执行一个叫做 “翻译成中文”（translate_cn） 的工作提示词。这个步骤的目的是将输入的英文内容转换为中文。使用的输入来自于用户提供的信息，模型调用的还是 GPT-4o mini。&lt;/p&gt;&lt;p&gt;第二步是对刚才的翻译结果进行评价。这一步的目的是确保翻译的质量，通过客观的评价来识别可能存在的问题或改进空间。它的输入相对多一些，除了原文，还应该包括刚才第一步给出的直译结果。为了保证修改建议的有效性和可靠性，我们使用思辨能力更强的 Claude 3.5 Sonnet 模型。&lt;/p&gt;&lt;p&gt;第三步则是综合原文、直译和反思建议，进行精细翻译。这里我们还是使用 GPT-4o mini 模型，以降低成本，提升输出速度。&lt;/p&gt;&lt;p&gt;这种方法的优势在于它的灵活性和可定制性，你可以根据具体需求来调整每一步的提示词，从而优化整个工作流程。具体安装和使用方式，请参考《&lt;a href="https://mp.weixin.qq.com/s/tHIbczDuVfNdbmJlN6Xs9A" target="_blank"&gt;如何轻松定制和调用你自己的 AI 工作流&lt;/a&gt;》一文。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/ac2e0a27fa7d66e60af166fefbd66d97.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/ac2e0a27fa7d66e60af166fefbd66d97.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;闲言少叙，我们来看翻译的结果。这个结果是经过我们刚才描述的三步工作流程处理后得到的。通过这个例子，你也可以直观看到工作流的效果。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/f541d4b78e2fd431626b85aada19ef16.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/f541d4b78e2fd431626b85aada19ef16.jpeg"/&gt;&lt;/figure&gt;&lt;h2&gt;&lt;strong&gt;验证&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;我们该不该相信这个结果？我觉得尽管在回答中，GraphRAG 给出了来源片段信息，但这还不够。&lt;/p&gt;&lt;p&gt;假设你根本就没有读过狄更斯的这本小说，该如何验证刚才给出的答案呢？&lt;/p&gt;&lt;p&gt;你可以写一个提示词：&lt;/p&gt;&lt;blockquote&gt;&lt;ul&gt;&lt;li&gt;你是一名资深英语文学教师，现在你就狄更斯小说 &amp;quot;A Christmas Carol&amp;quot; 提出来了一个问题 &amp;quot;What are the top themes in this story?&amp;quot;，下面我提供给你的文档，是一个学生的回答。请你根据你对这本小说的理解，一段段核对，看答案是否有事实性错误，以及是否有可改进的地方&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;&lt;p&gt;然后，把这个提示词，连同刚刚 GraphRAG 给出的结果（英文即可）交给 Claude 3.5 Sonnet 。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/5d45ac04188586f50ccf43e10d162dd0.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/5d45ac04188586f50ccf43e10d162dd0.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;然后，这是 Claude 3.5 Sonnet 给出的回答质量分析结果。让我们来看看它的评价。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/eb51d108ef7c0fe7057c726d3c11fc92.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/eb51d108ef7c0fe7057c726d3c11fc92.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;Claude 3.5 Sonnet 给出总体评价：这是一个非常优秀的分析。这个结果证明了我们利用知识图谱进行检索的方法非常有效。到此为止，我们是否可以完全相信这个答案呢？&lt;/p&gt;&lt;p&gt;当然不行。&lt;/p&gt;&lt;p&gt;刚才看到的是大语言模型基于自己训练时对数据的记忆得出的结果，这依然可能会产生幻觉。因此，我们需要让 AI 连接网络进行查询，以验证信息的准确性。&lt;/p&gt;&lt;p&gt;在这方面，&lt;a href="https://sspai.com/post/85330" target="_blank"&gt;一个比较好的工具就是 Perplexity&lt;/a&gt;。它能够网络查询，验证信息的准确性。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/e701721e44af5d4ceb024ba158a55cac.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/e701721e44af5d4ceb024ba158a55cac.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;首先，Perplexity 会查找与输入内容相关的信息，列出了多个相关的信息来源。然后，Perplexity 会核对主题识别的准确性。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/9ee42756d14e5913f2a7a6d72f812e22.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/9ee42756d14e5913f2a7a6d72f812e22.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;在 Perplexity 的分析中，你可以看到它使用了这些词语来评价：准确地捕捉、准确地识别、很好的捕捉，准确地指出、很好的总结。它还指出没有明显的事实性错误，主题的选择和分析都很到位。&lt;/p&gt;&lt;p&gt;通过这两种方法的交叉验证，我们对大语言模型根据我们的图谱式知识库给出的答案就更有信心了。&lt;/p&gt;&lt;h2&gt;&lt;strong&gt;成本&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;使用这种方法的成本如何呢？&lt;/p&gt;&lt;p&gt;我打开 OpenAI 控制台查看，一开始吓了一跳 —— 今天的账单又起飞了？&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/d3e0ca336e19685dc17f13e27f560cee.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/d3e0ca336e19685dc17f13e27f560cee.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;好在仔细一看，实际花费仅仅 0.28 美金。下面是明细。&lt;/p&gt;&lt;figure&gt;&lt;img alt="" data-original="https://cdnfile.sspai.com/2024/07/21/article/a01851805ea7f0a7d7ec46c45209c62c.jpeg" src="https://cdnfile.sspai.com/2024/07/21/article/a01851805ea7f0a7d7ec46c45209c62c.jpeg"/&gt;&lt;/figure&gt;&lt;p&gt;有 0.05 美金（将近五分之一）是用于语音识别的，这与我们当前的任务无关。&lt;/p&gt;&lt;p&gt;换句话说，我们用于总结这本书、构建知识图谱型知识库，以及进行查询的实际花费是多少呢？仅需要 0.23 美金。&lt;/p&gt;&lt;p&gt;考虑到使用官方样例花费 11 美金，你会发现 GPT-4o mini 带来的成本改善令人惊叹。&lt;/p&gt;&lt;h2&gt;&lt;strong&gt;小结&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;通过本文的讲解，你可以发现 GraphRAG 技术能帮助我们更准确地回答全局性的复杂问题，这对许多应用场景来说至关重要。&lt;/p&gt;&lt;p&gt;进一步，结合 GPT-4o mini 模型，我们不仅提高了处理效率和速度，还有效降低了成本。对于个人用户、研究人员和企业来说，这都是一个好消息。&lt;/p&gt;&lt;p&gt;自己动手试一试吧，欢迎你把自己的测试结果分享在留言区，咱们一起交流讨论。&lt;/p&gt;&lt;p&gt;祝基于知识图谱的 AI 知识库使用愉快！&lt;/p&gt;&lt;p&gt;如果你觉得本文有用，请&lt;strong&gt;充电&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;如果本文可能对你的朋友有帮助，请&lt;strong&gt;转发&lt;/strong&gt;给他们。&lt;/p&gt;&lt;p&gt;欢迎&lt;strong&gt;关注&lt;/strong&gt;&lt;a href="https://sspai.com/column/245" target="_blank"&gt;我的专栏「科研利器」&lt;/a&gt;，以便及时收到后续的更新内容。&lt;/p&gt;&lt;p&gt;&lt;a href="https://sspai.com/prime/subscription?referral=314606736" target="_blank"&gt;点击这个链接加入少数派会员&lt;/a&gt;，立享 9 折优惠！获得专属会员内容、会员播客以及会员定制周边。在更多的领域和方向帮你打开脑洞，找到新的兴趣点。与少数派一起洞悉当下，探索新知。&lt;/p&gt;&lt;span&gt; &lt;/span&gt;&lt;h2&gt;&lt;strong&gt;延伸阅读&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&amp;gt;关注 &lt;a href="https://www.xiaohongshu.com/user/profile/63f5d65d000000001001d8d4" target="_blank"&gt;少数派小红书&lt;/a&gt;，感受精彩数字生活 🍃&lt;/p&gt;&lt;p&gt;&amp;gt; 实用、好用的 &lt;a href="https://sspai.com/mall" target="_blank"&gt;正版软件&lt;/a&gt;，少数派为你呈现 🚀&lt;/p&gt;&lt;/div&gt;</description><author>玉树芝兰</author><guid>https://sspai.com/post/90665</guid><pubDate>Mon, 22 Jul 2024 03:29:36 GMT</pubDate></item></channel></rss>